(function (n) { function u(n, t, r) { return new i(n, t, r) } function i(n, t, i) { this.l = n; this.a = t; this.b = i } function f(n, t, i) { return new r(n, t, i) } function r(n, t, i) { this.l = n; this.c = t; this.h = i } function p(t, i, r) { var u = (t + 16) / 116, f = u + i / 500, e = u - r / 200; return f = s(f) * a, u = s(u) * v, e = s(e) * y, n.rgb(c(3.2404542 * f - 1.5371385 * u - .4985314 * e), c(-.969266 * f + 1.8760108 * u + .041556 * e), c(.0556434 * f - .2040259 * u + 1.0572252 * e)) } function w(n, t, i) { n = l(n); t = l(t); i = l(i); var f = h((.4124564 * n + .3575761 * t + .1804375 * i) / a), r = h((.2126729 * n + .7151522 * t + .072175 * i) / v), e = h((.0193339 * n + .119192 * t + .9503041 * i) / y); return u(116 * r - 16, 500 * (f - r), 200 * (r - e)) } function b(n, t, i) { var r = Math.sqrt(t * t + i * i), u = Math.atan2(i, t) / Math.PI * 180; return f(n, r, u) } function o(n, t, i) { return i = i * Math.PI / 180, u(n, Math.cos(i) * t, Math.sin(i) * t) } function s(n) { return n > .206893034 ? n * n * n : (n - 4 / 29) / 7.787037 } function h(n) { return n > .008856 ? Math.pow(n, 1 / 3) : 7.787037 * n + 4 / 29 } function c(n) { return Math.round(255 * (n <= .00304 ? 12.92 * n : 1.055 * Math.pow(n, 1 / 2.4) - .055)) } function l(n) { return (n /= 255) <= .04045 ? n / 12.92 : Math.pow((n + .055) / 1.055, 2.4) } var t = n.cie = {}; t.lab = function (t, f, e) { return arguments.length === 1 ? t instanceof i ? u(t.l, t.a, t.b) : t instanceof r ? o(t.l, t.c, t.h) : w((t = n.rgb(t)).r, t.g, t.b) : u(+t, +f, +e) }; t.lch = function (t, u, e) { return arguments.length === 1 ? t instanceof r ? f(t.l, t.c, t.h) : t instanceof i ? b(t.l, t.a, t.b) : b((t = w((t = n.rgb(t)).r, t.g, t.b)).l, t.a, t.b) : f(+t, +u, +e) }; t.interpolateLab = function (n, i) { n = t.lab(n); i = t.lab(i); var r = n.l, u = n.a, f = n.b, e = i.l - r, o = i.a - u, s = i.b - f; return function (n) { return p(r + e * n, u + o * n, f + s * n) + "" } }; t.interpolateLch = function (n, i) { n = t.lch(n); i = t.lch(i); var u = n.l, f = n.c, e = n.h, s = i.l - u, h = i.c - f, r = i.h - e; return r > 180 ? r -= 360 : r < -180 && (r += 360), function (n) { return o(u + s * n, f + h * n, e + r * n) + "" } }; i.prototype.brighter = function (n) { return u(Math.min(100, this.l + e * (arguments.length ? n : 1)), this.a, this.b) }; i.prototype.darker = function (n) { return u(Math.max(0, this.l - e * (arguments.length ? n : 1)), this.a, this.b) }; i.prototype.rgb = function () { return p(this.l, this.a, this.b) }; i.prototype.toString = function () { return this.rgb() + "" }; r.prototype.brighter = function (n) { return f(Math.min(100, this.l + e * (arguments.length ? n : 1)), this.c, this.h) }; r.prototype.darker = function (n) { return f(Math.max(0, this.l - e * (arguments.length ? n : 1)), this.c, this.h) }; r.prototype.rgb = function () { return o(this.l, this.c, this.h).rgb() }; r.prototype.toString = function () { return this.rgb() + "" }; var e = 18, a = .95047, v = 1, y = 1.08883 })(d3);
//# sourceMappingURL=cie.min.js.map