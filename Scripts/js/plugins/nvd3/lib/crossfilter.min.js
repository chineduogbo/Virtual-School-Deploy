(function(n){function t(n){return n}function b(n,t){for(var i=0,r=t.length,u=new Array(r);i<r;++i)u[i]=n[t[i]];return u}function k(n){function i(t,i,r,u){while(r<u){var f=r+u>>1;n(t[f])<i?r=f+1:u=f}return r}function t(t,i,r,u){while(r<u){var f=r+u>>1;i<n(t[f])?u=f:r=f+1}return r}return t.right=t,t.left=i,t}function f(n){function t(n,t,r){for(var u=r-t,f=(u>>>1)+1;--f>0;)i(n,f,u,t);return n}function r(n,t,r){for(var u=r-t,f;--u>0;)f=n[t],n[t]=n[t+u],n[t+u]=f,i(n,1,u,t);return n}function i(t,i,r,u){for(var e=t[--u+i],o=n(e),f;(f=i<<1)<=r;){if(f<r&&n(t[u+f])>n(t[u+f+1])&&f++,o<=n(t[u+f]))break;t[u+i]=t[u+f];i=f}t[u+i]=e}return t.sort=r,t}function h(n){function i(i,r,u,f){for(var e=new Array(f=Math.min(u-r,f)),s,c,h,o=0;o<f;++o)e[o]=i[r++];if(t(e,0,f),r<u){s=n(e[0]);do(c=n(h=i[r])>s)&&(e[0]=h,s=n(t(e,0,f)[0]));while(++r<u)}return e}var t=f(n);return i}function c(n){function t(t,i,r){for(var f=i+1;f<r;++f){for(var u=f,e=t[f],o=n(e);u>i&&n(t[u-1])>o;--u)t[u]=t[u-1];t[u]=e}return t}return t}function l(n){function t(n,t,u){return(u-t<st?i:r)(n,t,u)}function r(i,r,u){var rt=(u-r)/6|0,ft=r+rt,et=u-1-rt,ut=r+u-1>>1,ot=ut-rt,st=ut+rt,tt=i[ft],g=n(tt),w=i[ot],c=n(w),b=i[ut],v=n(b),k=i[st],l=n(k),it=i[et],nt=n(it),f,ct,s,h,p,y;g>c&&(f=tt,tt=w,w=f,f=g,g=c,c=f);l>nt&&(f=k,k=it,it=f,f=l,l=nt,nt=f);g>v&&(f=tt,tt=b,b=f,f=g,g=v,v=f);c>v&&(f=w,w=b,b=f,f=c,c=v,v=f);g>l&&(f=tt,tt=k,k=f,f=g,g=l,l=f);v>l&&(f=b,b=k,k=f,f=v,v=l,l=f);c>nt&&(f=w,w=it,it=f,f=c,c=nt,nt=f);c>v&&(f=w,w=b,b=f,f=c,c=v,v=f);l>nt&&(f=k,k=it,it=f,f=l,l=nt,nt=f);var lt=w,a=c,at=k,d=l;i[ft]=tt;i[ot]=i[r];i[ut]=b;i[st]=i[u-1];i[et]=it;var o=r+1,e=u-2,ht=a<=d&&a>=d;if(ht){for(s=o;s<=e;++s)if(h=i[s],p=n(h),p<a)s!==o&&(i[s]=i[o],i[o]=h),++o;else if(p>a)for(;;)if(y=n(i[e]),y>a){e--;continue}else if(y<a){i[s]=i[o];i[o++]=i[e];i[e--]=h;break}else{i[s]=i[e];i[e--]=h;break}}else for(s=o;s<=e;s++)if(h=i[s],p=n(h),p<a)s!==o&&(i[s]=i[o],i[o]=h),++o;else if(p>d)for(;;)if(y=n(i[e]),y>d){if(e--,e<s)break;continue}else{y<a?(i[s]=i[o],i[o++]=i[e],i[e--]=h):(i[s]=i[e],i[e--]=h);break}if(i[r]=i[o-1],i[o-1]=lt,i[u-1]=i[e+1],i[e+1]=at,t(i,r,o-1),t(i,e+2,u),ht)return i;if(o<ft&&e>et){while((ct=n(i[o]))<=a&&ct>=a)++o;while((y=n(i[e]))<=d&&y>=d)--e;for(s=o;s<=e;s++)if(h=i[s],p=n(h),p<=a&&p>=a)s!==o&&(i[s]=i[o],i[o]=h),o++;else if(p<=d&&p>=d)for(;;)if(y=n(i[e]),y<=d&&y>=d){if(e--,e<s)break;continue}else{y<a?(i[s]=i[o],i[o++]=i[e],i[e--]=h):(i[s]=i[e],i[e--]=h);break}}return t(i,o,e+1)}var i=c(n);return t}function w(n){return new Array(n)}function ht(n,t){return function(i){var r=i.length;return[n.left(i,t,0,r),n.right(i,t,0,r)]}}function ct(n,t){var i=t[0],r=t[1];return function(t){var u=t.length;return[n.left(t,i,0,u),n.left(t,r,0,u)]}}function it(n){return[0,n.length]}function r(){return null}function o(){return 0}function rt(n){return n+1}function ut(n){return n-1}function ft(n){return function(t,i){return t+ +n(i)}}function et(n){return function(t,i){return t-n(i)}}function i(){function g(t){var u=c,r=t.length;return r&&(i=i.concat(t),n=p(n,c+=r),y.forEach(function(n){n(t,u,r)})),w}function nt(a){function dt(t,i,r){nt=t.map(a);st=ui(lt(r),0,r);nt=b(nt,st);for(var o=pt(nt),l=o[0],v=o[1],u=0;u<l;++u)n[st[u]+i]|=tt;for(u=v;u<r;++u)n[st[u]+i]|=tt;if(!i){g=nt;w=st;at=l;vt=v;return}var h=g,y=w,f=0,e=0;for(g=new Array(c),w=s(c,c),u=0;f<i&&e<r;++u)h[f]<nt[e]?(g[u]=h[f],w[u]=y[f++]):(g[u]=nt[e],w[u]=st[e++]+i);for(;f<i;++f,++u)g[u]=h[f],w[u]=y[f];for(;e<r;++e,++u)g[u]=nt[e],w[u]=st[e]+i;o=pt(g);at=o[0];vt=o[1]}function gt(n,t,i){kt.forEach(function(n){n(nt,st,t,i)});nt=st=null}function wt(t){var i,r,u,f=t[0],e=t[1],o=[],s=[];if(f<at)for(i=f,r=Math.min(at,e);i<r;++i)n[u=w[i]]^=tt,o.push(u);else if(f>at)for(i=at,r=Math.min(f,vt);i<r;++i)n[u=w[i]]^=tt,s.push(u);if(e>vt)for(i=Math.max(f,vt),r=e;i<r;++i)n[u=w[i]]^=tt,o.push(u);else if(e<vt)for(i=Math.max(at,e),r=vt;i<r;++i)n[u=w[i]]^=tt,s.push(u);return at=f,vt=e,v.forEach(function(n){n(tt,o,s)}),bt}function fi(n){return n==null?ii():Array.isArray(n)?ti(n):ni(n)}function ni(n){return wt((pt=ht(u,n))(g))}function ti(n){return wt((pt=ct(u,n))(g))}function ii(){return wt((pt=it)(g))}function ei(t){for(var r=[],u=vt,f;--u>=at&&t>0;)n[f=w[u]]||(r.push(i[f]),--t);return r}function ri(u){function wt(t,f,o,h){function bt(){++l===it&&(rt=e(rt,nt<<=1),y=e(y,nt),it=ot(nt))}var lt=a,rt=s(l,it),pt=b,wt=st,at=l,w=0,g=0,ut,ft,ct,tt,et,vt;for(d&&(pt=wt=r),a=new Array(l),l=0,y=at>1?p(y,c):s(c,it),at&&(ct=(ft=lt[0]).key);g<h&&!((tt=u(t[g]))>=tt);)++g;while(g<h){for(ft&&ct<=tt?(et=ft,vt=ct,rt[w]=l,(ft=lt[++w])&&(ct=ft.key)):(et={key:tt,value:wt()},vt=tt),a[l]=et;!(tt>vt);){if(y[ut=f[g]+o]=l,n[ut]&yt||(et.value=pt(et.value,i[ut])),++g>=h)break;tt=u(t[g])}bt()}while(w<at)a[rt[w]=l]=lt[w++],bt();if(l>w)for(w=0;w<o;++w)y[w]=rt[y[w]];ut=v.indexOf(k);l>1?(k=ni,ht=ii):(l===1?(k=ti,ht=ri):(k=r,ht=r),y=null);v[ut]=k}function ni(t,r,u){if(t!==tt&&!d){for(var e,o,f=0,s=r.length;f<s;++f)n[e=r[f]]&yt||(o=a[y[e]],o.value=b(o.value,i[e]));for(f=0,s=u.length;f<s;++f)(n[e=u[f]]&yt)===t&&(o=a[y[e]],o.value=ct(o.value,i[e]))}}function ti(t,r,u){if(t!==tt&&!d){for(var e,s=a[0],f=0,o=r.length;f<o;++f)n[e=r[f]]&yt||(s.value=b(s.value,i[e]));for(f=0,o=u.length;f<o;++f)(n[e=u[f]]&yt)===t&&(s.value=ct(s.value,i[e]))}}function ii(){for(var r,t=0;t<l;++t)a[t].value=st();for(t=0;t<c;++t)n[t]&yt||(r=a[y[t]],r.value=b(r.value,i[t]))}function ri(){var t,r=a[0];for(r.value=st(),t=0;t<c;++t)n[t]&yt||(r.value=b(r.value,i[t]))}function bt(){return d&&(ht(),d=!1),a}function ui(n){var t=vt(bt(),0,a.length,n);return pt.sort(t,0,t.length)}function lt(n,t,i){return b=n,ct=t,st=i,d=!0,at}function dt(){return lt(rt,ut,o)}function fi(n){return lt(ft(n),et(n),o)}function gt(n){function t(t){return n(t.value)}return vt=h(t),pt=f(t),at}function ei(){return gt(t)}function oi(){return l}var at={top:ui,all:bt,reduce:lt,reduceCount:dt,reduceSum:fi,order:gt,orderNatural:ei,size:oi},a,y,nt=8,it=ot(nt),l=0,vt,pt,b,ct,st,k=r,ht=r,d=!0;return arguments.length<1&&(u=t),v.push(k),kt.push(wt),wt(g,w,0,c),dt().orderNatural()}function oi(){var n=ri(r),t=n.all;return delete n.all,delete n.top,delete n.order,delete n.orderNatural,delete n.size,n.value=function(){return t()[0].value},n}var bt={filter:fi,filterExact:ni,filterRange:ti,filterAll:ii,top:ei,group:ri,groupAll:oi},tt=1<<k++,yt=~tt,g,w,nt,st,ui=l(function(n){return nt[n]}),pt=it,kt=[],at=0,vt=0;return y.unshift(dt),y.push(gt),k>d&&(n=e(n,d<<=1)),dt(i,0,c),gt(i,0,c),bt}function tt(){function h(f,e){var o;if(!r)for(o=e;o<c;++o)n[o]||(t=u(t,i[o]))}function p(f,o,s){var h,c,l;if(!r){for(h=0,l=o.length;h<l;++h)n[c=o[h]]||(t=u(t,i[c]));for(h=0,l=s.length;h<l;++h)n[c=s[h]]===f&&(t=e(t,i[c]))}}function w(){var r;for(t=s(),r=0;r<c;++r)n[r]||(t=u(t,i[r]))}function f(n,t,i){return u=n,e=t,s=i,r=!0,a}function l(){return f(rt,ut,o)}function b(n){return f(ft(n),et(n),o)}function k(){return r&&(w(),r=!1),t}var a={reduce:f,reduceCount:l,reduceSum:b,value:k},t,u,e,s,r=!0;return v.push(p),y.push(h),h(i,0,c),l()}function st(){return c}var w={add:g,dimension:nt,groupAll:tt,size:st},i=[],c=0,k=0,d=8,n=a(0),v=[],y=[];return arguments.length?g(arguments[0]):w}function s(n,t){return(t<257?a:t<65537?v:y)(n)}function lt(n){for(var i=s(n,n),t=-1;++t<n;)i[t]=t;return i}function ot(n){return n===8?256:n===16?65536:4294967296}var u,d,g,nt,tt;i.version="1.0.3";i.permute=b;u=i.bisect=k(t);u.by=k;d=i.heap=f(t);d.by=f;g=i.heapselect=h(t);g.by=h;nt=i.insertionsort=c(t);nt.by=c;tt=i.quicksort=l(t);tt.by=l;var st=32,a=w,v=w,y=w,p=t,e=t;typeof Uint8Array!="undefined"&&(a=function(n){return new Uint8Array(n)},v=function(n){return new Uint16Array(n)},y=function(n){return new Uint32Array(n)},p=function(n,t){var i=new n.constructor(t);return i.set(n),i},e=function(n,t){var i;switch(t){case 16:i=v(n.length);break;case 32:i=y(n.length);break;default:throw new Error("invalid array width!");}return i.set(n),i});n.crossfilter=i})(this);
//# sourceMappingURL=crossfilter.min.js.map