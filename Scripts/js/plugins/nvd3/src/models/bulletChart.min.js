nv.models.bulletChart = function () { "use strict"; function n(u) { return u.each(function (a, w) { var g = d3.select(this), d = (c || parseInt(g.style("width")) || 960) - t.left - t.right, k = e - t.top - t.bottom, lt = this, tt, b, nt, st, ft; if (n.update = function () { n(u) }, n.container = this, a && f.call(this, a, w)) g.selectAll(".nv-noData").remove(); else return tt = g.selectAll(".nv-noData").data([v]), tt.enter().append("text").attr("class", "nvd3 nv-noData").attr("dy", "-.7em").style("text-anchor", "middle"), tt.attr("x", t.left + d / 2).attr("y", 18 + t.top + k / 2).text(function (n) { return n }), n; var at = f.call(this, a, w).slice().sort(d3.descending), vt = s.call(this, a, w).slice().sort(d3.descending), yt = h.call(this, a, w).slice().sort(d3.descending), it = g.selectAll("g.nv-wrap.nv-bulletChart").data([a]), pt = it.enter().append("g").attr("class", "nvd3 nv-wrap nv-bulletChart"), rt = pt.append("g"), et = it.select("g"); rt.append("g").attr("class", "nv-bulletWrap"); rt.append("g").attr("class", "nv-titles"); it.attr("transform", "translate(" + t.left + "," + t.top + ")"); b = d3.scale.linear().domain([0, Math.max(at[0], vt[0], yt[0])]).range(y ? [d, 0] : [0, d]); nt = this.__chart__ || d3.scale.linear().domain([0, Infinity]).range(b.range()); this.__chart__ = b; var wt = function (n) { return Math.abs(nt(n) - nt(0)) }, bt = function (n) { return Math.abs(b(n) - b(0)) }, ot = rt.select(".nv-titles").append("g").attr("text-anchor", "end").attr("transform", "translate(-6," + (e - t.top - t.bottom) / 2 + ")"); ot.append("text").attr("class", "nv-title").text(function (n) { return n.title }); ot.append("text").attr("class", "nv-subtitle").attr("dy", "1em").text(function (n) { return n.subtitle }); i.width(d).height(k); st = et.select(".nv-bulletWrap"); d3.transition(st).call(i); var ht = l || b.tickFormat(d / 100), ut = et.selectAll("g.nv-tick").data(b.ticks(d / 50), function (n) { return this.textContent || ht(n) }), ct = ut.enter().append("g").attr("class", "nv-tick").attr("transform", function (n) { return "translate(" + nt(n) + ",0)" }).style("opacity", 1e-6); ct.append("line").attr("y1", k).attr("y2", k * 7 / 6); ct.append("text").attr("text-anchor", "middle").attr("dy", "1em").attr("y", k * 7 / 6).text(ht); ft = d3.transition(ut).attr("transform", function (n) { return "translate(" + b(n) + ",0)" }).style("opacity", 1); ft.select("line").attr("y1", k).attr("y2", k * 7 / 6); ft.select("text").attr("y", k * 7 / 6); d3.transition(ut.exit()).attr("transform", function (n) { return "translate(" + b(n) + ",0)" }).style("opacity", 1e-6).remove(); r.on("tooltipShow", function (n) { n.key = a.title; o && p(n, lt.parentNode) }) }), d3.timer.flush(), n } var i = nv.models.bullet(), u = "left", y = !1, t = { top: 5, right: 40, bottom: 20, left: 120 }, f = function (n) { return n.ranges }, s = function (n) { return n.markers }, h = function (n) { return n.measures }, c = null, e = 55, l = null, o = !0, a = function (n, t, i) { return "<h3>" + t + "<\/h3><p>" + i + "<\/p>" }, v = "No Data Available.", r = d3.dispatch("tooltipShow", "tooltipHide"), p = function (i, r) { var u = i.pos[0] + (r.offsetLeft || 0) + t.left, f = i.pos[1] + (r.offsetTop || 0) + t.top, e = a(i.key, i.label, i.value, i, n); nv.tooltip.show([u, f], e, i.value < 0 ? "e" : "w", null, r) }; i.dispatch.on("elementMouseover.tooltip", function (n) { r.tooltipShow(n) }); i.dispatch.on("elementMouseout.tooltip", function (n) { r.tooltipHide(n) }); r.on("tooltipHide", function () { o && nv.tooltip.cleanup() }); return n.dispatch = r, n.bullet = i, d3.rebind(n, i, "color"), n.options = nv.utils.optionsFunc.bind(n), n.orient = function (t) { return arguments.length ? (u = t, y = u == "right" || u == "bottom", n) : u }, n.ranges = function (t) { return arguments.length ? (f = t, n) : f }, n.markers = function (t) { return arguments.length ? (s = t, n) : s }, n.measures = function (t) { return arguments.length ? (h = t, n) : h }, n.width = function (t) { return arguments.length ? (c = t, n) : c }, n.height = function (t) { return arguments.length ? (e = t, n) : e }, n.margin = function (i) { return arguments.length ? (t.top = typeof i.top != "undefined" ? i.top : t.top, t.right = typeof i.right != "undefined" ? i.right : t.right, t.bottom = typeof i.bottom != "undefined" ? i.bottom : t.bottom, t.left = typeof i.left != "undefined" ? i.left : t.left, n) : t }, n.tickFormat = function (t) { return arguments.length ? (l = t, n) : l }, n.tooltips = function (t) { return arguments.length ? (o = t, n) : o }, n.tooltipContent = function (t) { return arguments.length ? (a = t, n) : a }, n.noData = function (t) { return arguments.length ? (v = t, n) : v }, n };
//# sourceMappingURL=bulletChart.min.js.map