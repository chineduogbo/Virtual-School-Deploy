nv.models.pieChart = function () { "use strict"; function n(s) { return s.each(function (s) { var h = d3.select(this), nt = this, p = (c || parseInt(h.style("width")) || 960) - t.left - t.right, w = (o || parseInt(h.style("height")) || 400) - t.top - t.bottom, a, b, d; if (n.update = function () { h.transition().call(n) }, n.container = this, r.disabled = s.map(function (n) { return !!n.disabled }), !e) { e = {}; for (a in r) e[a] = r[a] instanceof Array ? r[a].slice(0) : r[a] } if (s && s.length) h.selectAll(".nv-noData").remove(); else return b = h.selectAll(".nv-noData").data([v]), b.enter().append("text").attr("class", "nvd3 nv-noData").attr("dy", "-.7em").style("text-anchor", "middle"), b.attr("x", t.left + p / 2).attr("y", t.top + w / 2).text(function (n) { return n }), n; var y = h.selectAll("g.nv-wrap.nv-pieChart").data([s]), k = y.enter().append("g").attr("class", "nvd3 nv-wrap nv-pieChart").append("g"), g = y.select("g"); k.append("g").attr("class", "nv-pieWrap"); k.append("g").attr("class", "nv-legendWrap"); l && (u.width(p).key(i.x()), y.select(".nv-legendWrap").datum(s).call(u), t.top != u.height() && (t.top = u.height(), w = (o || parseInt(h.style("height")) || 400) - t.top - t.bottom), y.select(".nv-legendWrap").attr("transform", "translate(0," + -t.top + ")")); y.attr("transform", "translate(" + t.left + "," + t.top + ")"); i.width(p).height(w); d = g.select(".nv-pieWrap").datum([s]); d3.transition(d).call(i); u.dispatch.on("stateChange", function (t) { r = t; f.stateChange(r); n.update() }); i.dispatch.on("elementMouseout.tooltip", function (n) { f.tooltipHide(n) }); f.on("changeState", function (t) { typeof t.disabled != "undefined" && (s.forEach(function (n, i) { n.disabled = t.disabled[i] }), r.disabled = t.disabled); n.update() }) }), n } var i = nv.models.pie(), u = nv.models.legend(), t = { top: 30, right: 20, bottom: 20, left: 20 }, c = null, o = null, l = !0, s = nv.utils.defaultColor(), h = !0, a = function (n, t) { return "<h3>" + n + "<\/h3><p>" + t + "<\/p>" }, r = {}, e = null, v = "No Data Available.", f = d3.dispatch("tooltipShow", "tooltipHide", "stateChange", "changeState"), y = function (t, r) { var u = i.description()(t.point) || i.x()(t.point), f = t.pos[0] + (r && r.offsetLeft || 0), e = t.pos[1] + (r && r.offsetTop || 0), o = i.valueFormat()(i.y()(t.point)), s = a(u, o, t, n); nv.tooltip.show([f, e], s, t.value < 0 ? "n" : "s", null, r) }; i.dispatch.on("elementMouseover.tooltip", function (n) { n.pos = [n.pos[0] + t.left, n.pos[1] + t.top]; f.tooltipShow(n) }); f.on("tooltipShow", function (n) { h && y(n) }); f.on("tooltipHide", function () { h && nv.tooltip.cleanup() }); return n.legend = u, n.dispatch = f, n.pie = i, d3.rebind(n, i, "valueFormat", "labelFormat", "values", "x", "y", "description", "id", "showLabels", "donutLabelsOutside", "pieLabelsOutside", "labelType", "donut", "donutRatio", "labelThreshold"), n.options = nv.utils.optionsFunc.bind(n), n.margin = function (i) { return arguments.length ? (t.top = typeof i.top != "undefined" ? i.top : t.top, t.right = typeof i.right != "undefined" ? i.right : t.right, t.bottom = typeof i.bottom != "undefined" ? i.bottom : t.bottom, t.left = typeof i.left != "undefined" ? i.left : t.left, n) : t }, n.width = function (t) { return arguments.length ? (c = t, n) : c }, n.height = function (t) { return arguments.length ? (o = t, n) : o }, n.color = function (t) { return arguments.length ? (s = nv.utils.getColor(t), u.color(s), i.color(s), n) : s }, n.showLegend = function (t) { return arguments.length ? (l = t, n) : l }, n.tooltips = function (t) { return arguments.length ? (h = t, n) : h }, n.tooltipContent = function (t) { return arguments.length ? (a = t, n) : a }, n.state = function (t) { return arguments.length ? (r = t, n) : r }, n.defaultState = function (t) { return arguments.length ? (e = t, n) : e }, n.noData = function (t) { return arguments.length ? (v = t, n) : v }, n };
//# sourceMappingURL=pieChart.min.js.map