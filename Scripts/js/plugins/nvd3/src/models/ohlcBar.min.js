nv.models.ohlcBar = function () { "use strict"; function n(tt) { return tt.each(function (n) { var tt = y - r.left - r.right, ut = p - r.top - r.bottom, et = d3.select(this), rt, ct; i.domain(d || d3.extent(n[0].values.map(f).concat(w))); b ? i.range(v || [tt * .5 / n[0].values.length, tt * (n[0].values.length - .5) / n[0].values.length]) : i.range(v || [0, tt]); t.domain(g || [d3.min(n[0].values.map(h).concat(a)), d3.max(n[0].values.map(s).concat(a))]).range(nt || [ut, 0]); i.domain()[0] === i.domain()[1] && (i.domain()[0] ? i.domain([i.domain()[0] - i.domain()[0] * .01, i.domain()[1] + i.domain()[1] * .01]) : i.domain([-1, 1])); t.domain()[0] === t.domain()[1] && (t.domain()[0] ? t.domain([t.domain()[0] + t.domain()[0] * .01, t.domain()[1] - t.domain()[1] * .01]) : t.domain([-1, 1])); var it = d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([n[0].values]), ft = it.enter().append("g").attr("class", "nvd3 nv-wrap nv-ohlcBar"), ot = ft.append("defs"), st = ft.append("g"), ht = it.select("g"); st.append("g").attr("class", "nv-ticks"); it.attr("transform", "translate(" + r.left + "," + r.top + ")"); et.on("click", function (n, t) { l.chartClick({ data: n, index: t, pos: d3.event, id: u }) }); ot.append("clipPath").attr("id", "nv-chart-clip-path-" + u).append("rect"); it.select("#nv-chart-clip-path-" + u + " rect").attr("width", tt).attr("height", ut); ht.attr("clip-path", k ? "url(#nv-chart-clip-path-" + u + ")" : ""); rt = it.select(".nv-ticks").selectAll(".nv-tick").data(function (n) { return n }); rt.exit().remove(); ct = rt.enter().append("path").attr("class", function (n, t, i) { return (e(n, t) > c(n, t) ? "nv-tick negative" : "nv-tick positive") + " nv-tick-" + i + "-" + t }).attr("d", function (i, r) { var u = tt / n[0].values.length * .9; return "m0,0l0," + (t(e(i, r)) - t(s(i, r))) + "l" + -u / 2 + ",0l" + u / 2 + ",0l0," + (t(h(i, r)) - t(e(i, r))) + "l0," + (t(c(i, r)) - t(h(i, r))) + "l" + u / 2 + ",0l" + -u / 2 + ",0z" }).attr("transform", function (n, r) { return "translate(" + i(f(n, r)) + "," + t(s(n, r)) + ")" }).on("mouseover", function (r, u) { d3.select(this).classed("hover", !0); l.elementMouseover({ point: r, series: n[0], pos: [i(f(r, u)), t(o(r, u))], pointIndex: u, seriesIndex: 0, e: d3.event }) }).on("mouseout", function (t, i) { d3.select(this).classed("hover", !1); l.elementMouseout({ point: t, series: n[0], pointIndex: i, seriesIndex: 0, e: d3.event }) }).on("click", function (n, r) { l.elementClick({ value: o(n, r), data: n, index: r, pos: [i(f(n, r)), t(o(n, r))], e: d3.event, id: u }); d3.event.stopPropagation() }).on("dblclick", function (n, r) { l.elementDblClick({ value: o(n, r), data: n, index: r, pos: [i(f(n, r)), t(o(n, r))], e: d3.event, id: u }); d3.event.stopPropagation() }); rt.attr("class", function (n, t, i) { return (e(n, t) > c(n, t) ? "nv-tick negative" : "nv-tick positive") + " nv-tick-" + i + "-" + t }); d3.transition(rt).attr("transform", function (n, r) { return "translate(" + i(f(n, r)) + "," + t(s(n, r)) + ")" }).attr("d", function (i, r) { var u = tt / n[0].values.length * .9; return "m0,0l0," + (t(e(i, r)) - t(s(i, r))) + "l" + -u / 2 + ",0l" + u / 2 + ",0l0," + (t(h(i, r)) - t(e(i, r))) + "l0," + (t(c(i, r)) - t(h(i, r))) + "l" + u / 2 + ",0l" + -u / 2 + ",0z" }) }), n } var r = { top: 0, right: 0, bottom: 0, left: 0 }, y = 960, p = 500, u = Math.floor(Math.random() * 1e4), i = d3.scale.linear(), t = d3.scale.linear(), f = function (n) { return n.x }, o = function (n) { return n.y }, e = function (n) { return n.open }, c = function (n) { return n.close }, s = function (n) { return n.high }, h = function (n) { return n.low }, w = [], a = [], b = !1, k = !0, tt = nv.utils.defaultColor(), d, g, v, nt, l = d3.dispatch("chartClick", "elementClick", "elementDblClick", "elementMouseover", "elementMouseout"); return n.dispatch = l, n.options = nv.utils.optionsFunc.bind(n), n.x = function (t) { return arguments.length ? (f = t, n) : f }, n.y = function (t) { return arguments.length ? (o = t, n) : o }, n.open = function (t) { return arguments.length ? (e = t, n) : e }, n.close = function (t) { return arguments.length ? (c = t, n) : c }, n.high = function (t) { return arguments.length ? (s = t, n) : s }, n.low = function (t) { return arguments.length ? (h = t, n) : h }, n.margin = function (t) { return arguments.length ? (r.top = typeof t.top != "undefined" ? t.top : r.top, r.right = typeof t.right != "undefined" ? t.right : r.right, r.bottom = typeof t.bottom != "undefined" ? t.bottom : r.bottom, r.left = typeof t.left != "undefined" ? t.left : r.left, n) : r }, n.width = function (t) { return arguments.length ? (y = t, n) : y }, n.height = function (t) { return arguments.length ? (p = t, n) : p }, n.xScale = function (t) { return arguments.length ? (i = t, n) : i }, n.yScale = function (i) { return arguments.length ? (t = i, n) : t }, n.xDomain = function (t) { return arguments.length ? (d = t, n) : d }, n.yDomain = function (t) { return arguments.length ? (g = t, n) : g }, n.xRange = function (t) { return arguments.length ? (v = t, n) : v }, n.yRange = function (t) { return arguments.length ? (nt = t, n) : nt }, n.forceX = function (t) { return arguments.length ? (w = t, n) : w }, n.forceY = function (t) { return arguments.length ? (a = t, n) : a }, n.padData = function (t) { return arguments.length ? (b = t, n) : b }, n.clipEdge = function (t) { return arguments.length ? (k = t, n) : k }, n.color = function (t) { return arguments.length ? (tt = nv.utils.getColor(t), n) : tt }, n.id = function (t) { return arguments.length ? (u = t, n) : u }, n };
//# sourceMappingURL=ohlcBar.min.js.map