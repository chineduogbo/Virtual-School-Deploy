nv.models.multiChart=function(){"use strict";function n(g){return g.each(function(g){var st=d3.select(this),kt=this,at,ot,ut;n.update=function(){st.transition().call(n)};n.container=this;var et=(k||parseInt(st.style("width"))||960)-t.left-t.right,ft=(v||parseInt(st.style("height"))||400)-t.top-t.bottom,vt=g.filter(function(n){return!n.disabled&&n.type=="line"&&n.yAxis==1}),yt=g.filter(function(n){return!n.disabled&&n.type=="line"&&n.yAxis==2}),pt=g.filter(function(n){return!n.disabled&&n.type=="bar"&&n.yAxis==1}),wt=g.filter(function(n){return!n.disabled&&n.type=="bar"&&n.yAxis==2}),ht=g.filter(function(n){return!n.disabled&&n.type=="area"&&n.yAxis==1}),ct=g.filter(function(n){return!n.disabled&&n.type=="area"&&n.yAxis==2}),bt=g.filter(function(n){return!n.disabled&&n.yAxis==1}).map(function(n){return n.values.map(function(n){return{x:n.x,y:n.y}})}),lt=g.filter(function(n){return!n.disabled&&n.yAxis==2}).map(function(n){return n.values.map(function(n){return{x:n.x,y:n.y}})});nt.domain(d3.extent(d3.merge(bt.concat(lt)),function(n){return n.x})).range([0,et]);at=st.selectAll("g.wrap.multiChart").data([g]);ot=at.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");ot.append("g").attr("class","x axis");ot.append("g").attr("class","y1 axis");ot.append("g").attr("class","y2 axis");ot.append("g").attr("class","lines1Wrap");ot.append("g").attr("class","lines2Wrap");ot.append("g").attr("class","bars1Wrap");ot.append("g").attr("class","bars2Wrap");ot.append("g").attr("class","stack1Wrap");ot.append("g").attr("class","stack2Wrap");ot.append("g").attr("class","legendWrap");ut=at.select("g");d&&(a.width(et/2),ut.select(".legendWrap").datum(g.map(function(n){return n.originalKey=n.originalKey===undefined?n.key:n.originalKey,n.key=n.originalKey+(n.yAxis==1?"":" (right axis)"),n})).call(a),t.top!=a.height()&&(t.top=a.height(),ft=(v||parseInt(st.style("height"))||400)-t.top-t.bottom),ut.select(".legendWrap").attr("transform","translate("+et/2+","+-t.top+")"));u.width(et).height(ft).interpolate("monotone").color(g.map(function(n,t){return n.color||r[t%r.length]}).filter(function(n,t){return!g[t].disabled&&g[t].yAxis==1&&g[t].type=="line"}));o.width(et).height(ft).interpolate("monotone").color(g.map(function(n,t){return n.color||r[t%r.length]}).filter(function(n,t){return!g[t].disabled&&g[t].yAxis==2&&g[t].type=="line"}));s.width(et).height(ft).color(g.map(function(n,t){return n.color||r[t%r.length]}).filter(function(n,t){return!g[t].disabled&&g[t].yAxis==1&&g[t].type=="bar"}));l.width(et).height(ft).color(g.map(function(n,t){return n.color||r[t%r.length]}).filter(function(n,t){return!g[t].disabled&&g[t].yAxis==2&&g[t].type=="bar"}));h.width(et).height(ft).color(g.map(function(n,t){return n.color||r[t%r.length]}).filter(function(n,t){return!g[t].disabled&&g[t].yAxis==1&&g[t].type=="area"}));c.width(et).height(ft).color(g.map(function(n,t){return n.color||r[t%r.length]}).filter(function(n,t){return!g[t].disabled&&g[t].yAxis==2&&g[t].type=="area"}));ut.attr("transform","translate("+t.left+","+t.top+")");var dt=ut.select(".lines1Wrap").datum(vt),gt=ut.select(".bars1Wrap").datum(pt),ni=ut.select(".stack1Wrap").datum(ht),ti=ut.select(".lines2Wrap").datum(yt),ii=ut.select(".bars2Wrap").datum(wt),ri=ut.select(".stack2Wrap").datum(ct),ui=ht.length?ht.map(function(n){return n.values}).reduce(function(n,t){return n.map(function(n,i){return{x:n.x,y:n.y+t[i].y}})}).concat([{x:0,y:0}]):[],fi=ct.length?ct.map(function(n){return n.values}).reduce(function(n,t){return n.map(function(n,i){return{x:n.x,y:n.y+t[i].y}})}).concat([{x:0,y:0}]):[];f.domain(tt||d3.extent(d3.merge(bt).concat(ui),function(n){return n.y})).range([0,ft]);e.domain(it||d3.extent(d3.merge(lt).concat(fi),function(n){return n.y})).range([0,ft]);u.yDomain(f.domain());s.yDomain(f.domain());h.yDomain(f.domain());o.yDomain(e.domain());l.yDomain(e.domain());c.yDomain(e.domain());ht.length&&d3.transition(ni).call(h);ct.length&&d3.transition(ri).call(c);pt.length&&d3.transition(gt).call(s);wt.length&&d3.transition(ii).call(l);vt.length&&d3.transition(dt).call(u);yt.length&&d3.transition(ti).call(o);p.ticks(et/100).tickSize(-ft,0);ut.select(".x.axis").attr("transform","translate(0,"+ft+")");d3.transition(ut.select(".x.axis")).call(p);w.ticks(ft/36).tickSize(-et,0);d3.transition(ut.select(".y1.axis")).call(w);b.ticks(ft/36).tickSize(-et,0);d3.transition(ut.select(".y2.axis")).call(b);ut.select(".y2.axis").style("opacity",lt.length?1:0).attr("transform","translate("+nt.range()[1]+",0)");a.dispatch.on("stateChange",function(){n.update()});i.on("tooltipShow",function(n){y&&rt(n,kt.parentNode)})}),n}var t={top:30,right:20,bottom:50,left:60},r=d3.scale.category20().range(),k=null,v=null,d=!0,y=!0,g=function(n,t,i){return"<h3>"+n+"<\/h3><p>"+i+" at "+t+"<\/p>"},tt,it,nt=d3.scale.linear(),f=d3.scale.linear(),e=d3.scale.linear(),u=nv.models.line().yScale(f),o=nv.models.line().yScale(e),s=nv.models.multiBar().stacked(!1).yScale(f),l=nv.models.multiBar().stacked(!1).yScale(e),h=nv.models.stackedArea().yScale(f),c=nv.models.stackedArea().yScale(e),p=nv.models.axis().scale(nt).orient("bottom").tickPadding(5),w=nv.models.axis().scale(f).orient("left"),b=nv.models.axis().scale(e).orient("right"),a=nv.models.legend().height(30),i=d3.dispatch("tooltipShow","tooltipHide"),rt=function(t,i){var r=t.pos[0]+(i.offsetLeft||0),f=t.pos[1]+(i.offsetTop||0),e=p.tickFormat()(u.x()(t.point,t.pointIndex)),o=(t.series.yAxis==2?b:w).tickFormat()(u.y()(t.point,t.pointIndex)),s=g(t.series.key,e,o,t,n);nv.tooltip.show([r,f],s,undefined,undefined,i.offsetParent)};u.dispatch.on("elementMouseover.tooltip",function(n){n.pos=[n.pos[0]+t.left,n.pos[1]+t.top];i.tooltipShow(n)});u.dispatch.on("elementMouseout.tooltip",function(n){i.tooltipHide(n)});o.dispatch.on("elementMouseover.tooltip",function(n){n.pos=[n.pos[0]+t.left,n.pos[1]+t.top];i.tooltipShow(n)});o.dispatch.on("elementMouseout.tooltip",function(n){i.tooltipHide(n)});s.dispatch.on("elementMouseover.tooltip",function(n){n.pos=[n.pos[0]+t.left,n.pos[1]+t.top];i.tooltipShow(n)});s.dispatch.on("elementMouseout.tooltip",function(n){i.tooltipHide(n)});l.dispatch.on("elementMouseover.tooltip",function(n){n.pos=[n.pos[0]+t.left,n.pos[1]+t.top];i.tooltipShow(n)});l.dispatch.on("elementMouseout.tooltip",function(n){i.tooltipHide(n)});h.dispatch.on("tooltipShow",function(n){if(!Math.round(h.y()(n.point)*100))return setTimeout(function(){d3.selectAll(".point.hover").classed("hover",!1)},0),!1;n.pos=[n.pos[0]+t.left,n.pos[1]+t.top];i.tooltipShow(n)});h.dispatch.on("tooltipHide",function(n){i.tooltipHide(n)});c.dispatch.on("tooltipShow",function(n){if(!Math.round(c.y()(n.point)*100))return setTimeout(function(){d3.selectAll(".point.hover").classed("hover",!1)},0),!1;n.pos=[n.pos[0]+t.left,n.pos[1]+t.top];i.tooltipShow(n)});c.dispatch.on("tooltipHide",function(n){i.tooltipHide(n)});u.dispatch.on("elementMouseover.tooltip",function(n){n.pos=[n.pos[0]+t.left,n.pos[1]+t.top];i.tooltipShow(n)});u.dispatch.on("elementMouseout.tooltip",function(n){i.tooltipHide(n)});o.dispatch.on("elementMouseover.tooltip",function(n){n.pos=[n.pos[0]+t.left,n.pos[1]+t.top];i.tooltipShow(n)});o.dispatch.on("elementMouseout.tooltip",function(n){i.tooltipHide(n)});i.on("tooltipHide",function(){y&&nv.tooltip.cleanup()});return n.dispatch=i,n.lines1=u,n.lines2=o,n.bars1=s,n.bars2=l,n.stack1=h,n.stack2=c,n.xAxis=p,n.yAxis1=w,n.yAxis2=b,n.options=nv.utils.optionsFunc.bind(n),n.x=function(t){return arguments.length?(getX=t,u.x(t),s.x(t),n):getX},n.y=function(t){return arguments.length?(getY=t,u.y(t),s.y(t),n):getY},n.yDomain1=function(t){return arguments.length?(tt=t,n):tt},n.yDomain2=function(t){return arguments.length?(it=t,n):it},n.margin=function(i){return arguments.length?(t=i,n):t},n.width=function(t){return arguments.length?(k=t,n):k},n.height=function(t){return arguments.length?(v=t,n):v},n.color=function(t){return arguments.length?(r=t,a.color(t),n):r},n.showLegend=function(t){return arguments.length?(d=t,n):d},n.tooltips=function(t){return arguments.length?(y=t,n):y},n.tooltipContent=function(t){return arguments.length?(g=t,n):g},n};
//# sourceMappingURL=multiChart.min.js.map