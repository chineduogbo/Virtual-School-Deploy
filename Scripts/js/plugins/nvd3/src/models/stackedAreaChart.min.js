nv.models.stackedAreaChart=function(){"use strict";function n(p){return p.each(function(p){var at=d3.select(this),gt=this,ct=(d||parseInt(at.style("width"))||960)-t.left-t.right,vt=(a||parseInt(at.style("height"))||400)-t.top-t.bottom,wt,kt,dt,pt,ni;if(n.update=function(){at.transition().duration(ot).call(n)},n.container=this,r.disabled=p.map(function(n){return!!n.disabled}),!l){l={};for(wt in r)l[wt]=r[wt]instanceof Array?r[wt].slice(0):r[wt]}if(p&&p.length&&p.filter(function(n){return n.values.length}).length)at.selectAll(".nv-noData").remove();else return kt=at.selectAll(".nv-noData").data([ft]),kt.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),kt.attr("x",t.left+ct/2).attr("y",t.top+vt/2).text(function(n){return n}),n;rt=i.xScale();st=i.yScale();var bt=at.selectAll("g.nv-wrap.nv-stackedAreaChart").data([p]),yt=bt.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),lt=bt.select("g");yt.append("rect").style("opacity",0);yt.append("g").attr("class","nv-x nv-axis");yt.append("g").attr("class","nv-y nv-axis");yt.append("g").attr("class","nv-stackedWrap");yt.append("g").attr("class","nv-legendWrap");yt.append("g").attr("class","nv-controlsWrap");yt.append("g").attr("class","nv-interactive");lt.select("rect").attr("width",ct).attr("height",vt);g&&(dt=w?ct-et:ct,e.width(dt),lt.select(".nv-legendWrap").datum(p).call(e),t.top!=e.height()&&(t.top=e.height(),vt=(a||parseInt(at.style("height"))||400)-t.top-t.bottom),lt.select(".nv-legendWrap").attr("transform","translate("+(ct-dt)+","+-t.top+")"));w&&(pt=[{key:h.stacked||"Stacked",metaKey:"Stacked",disabled:i.style()!="stack",style:"stack"},{key:h.stream||"Stream",metaKey:"Stream",disabled:i.style()!="stream",style:"stream"},{key:h.expanded||"Expanded",metaKey:"Expanded",disabled:i.style()!="expand",style:"expand"},{key:h.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:i.style()!="stack_percent",style:"stack_percent"}],et=k.length/3*260,pt=pt.filter(function(n){return k.indexOf(n.metaKey)!==-1}),o.width(et).color(["#444","#444","#444"]),lt.select(".nv-controlsWrap").datum(pt).call(o),t.top!=Math.max(o.height(),e.height())&&(t.top=Math.max(o.height(),e.height()),vt=(a||parseInt(at.style("height"))||400)-t.top-t.bottom),lt.select(".nv-controlsWrap").attr("transform","translate(0,"+-t.top+")"));bt.attr("transform","translate("+t.left+","+t.top+")");b&&lt.select(".nv-y.nv-axis").attr("transform","translate("+ct+",0)");it&&(s.width(ct).height(vt).margin({left:t.left,top:t.top}).svgContainer(at).xScale(rt),bt.select(".nv-interactive").call(s));i.width(ct).height(vt);ni=lt.select(".nv-stackedWrap").datum(p);ni.transition().call(i);nt&&(c.scale(rt).ticks(ct/100).tickSize(-vt,0),lt.select(".nv-x.nv-axis").attr("transform","translate(0,"+vt+")"),lt.select(".nv-x.nv-axis").transition().duration(0).call(c));tt&&(u.scale(st).ticks(i.offset()=="wiggle"?0:vt/36).tickSize(-ct,0).setTickFormat(i.style()=="expand"||i.style()=="stack_percent"?d3.format("%"):ut),lt.select(".nv-y.nv-axis").transition().duration(0).call(u));i.dispatch.on("areaClick.toggle",function(t){p.filter(function(n){return!n.disabled}).length===1?p.forEach(function(n){n.disabled=!1}):p.forEach(function(n,i){n.disabled=i!=t.seriesIndex});r.disabled=p.map(function(n){return!!n.disabled});f.stateChange(r);n.update()});e.dispatch.on("stateChange",function(t){r.disabled=t.disabled;f.stateChange(r);n.update()});o.dispatch.on("legendClick",function(t){t.disabled&&(pt=pt.map(function(n){return n.disabled=!0,n}),t.disabled=!1,i.style(t.style),r.style=i.style(),f.stateChange(r),n.update())});s.dispatch.on("elementMousemove",function(r){var l,e,o,f,w,b;if(i.clearHighlights(),f=[],p.filter(function(n,t){return n.seriesIndex=t,!n.disabled}).forEach(function(t,u){var s,h;(e=nv.interactiveBisect(t.values,r.pointXValue,n.x()),i.highlightPoint(u,e,!0),s=t.values[e],typeof s!="undefined")&&(typeof l=="undefined"&&(l=s),typeof o=="undefined"&&(o=n.xScale()(n.x()(s,e))),h=i.style()=="expand"?s.display.y:n.y()(s,e),f.push({key:t.key,value:h,color:v(t,t.seriesIndex),stackedValue:s.display}))}),f.reverse(),f.length>2){var h=n.yScale().invert(r.mouseY),a=null;f.forEach(function(n,t){h=Math.abs(h);var i=Math.abs(n.stackedValue.y0),r=Math.abs(n.stackedValue.y);if(h>=i&&h<=r+i){a=t;return}});a!=null&&(f[a].highlight=!0)}w=c.tickFormat()(n.x()(l,e));b=i.style()=="expand"?function(n){return d3.format(".1%")(n)}:function(n){return u.tickFormat()(n)};s.tooltip.position({left:o+t.left,top:r.mouseY+t.top}).chartContainer(gt.parentNode).enabled(y).valueFormatter(b).data({value:w,series:f})();s.renderGuideLine(o)});s.dispatch.on("elementMouseout",function(){f.tooltipHide();i.clearHighlights()});f.on("tooltipShow",function(n){y&&ht(n,gt.parentNode)});f.on("changeState",function(t){typeof t.disabled!="undefined"&&p.length===t.disabled.length&&(p.forEach(function(n,i){n.disabled=t.disabled[i]}),r.disabled=t.disabled);typeof t.style!="undefined"&&i.style(t.style);n.update()})}),n}var i=nv.models.stackedArea(),c=nv.models.axis(),u=nv.models.axis(),e=nv.models.legend(),o=nv.models.legend(),s=nv.interactiveGuideline(),t={top:30,right:25,bottom:50,left:60},d=null,a=null,v=nv.utils.defaultColor(),w=!0,g=!0,nt=!0,tt=!0,b=!1,it=!1,y=!0,p=function(n,t,i){return"<h3>"+n+"<\/h3><p>"+i+" on "+t+"<\/p>"},rt,st,ut=d3.format(",.2f"),r={style:i.style()},l=null,ft="No Data Available.",f=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),et=250,k=["Stacked","Stream","Expanded"],h={},ot=250,ht;c.orient("bottom").tickPadding(7);u.orient(b?"right":"left");o.updateState(!1);ht=function(t,r){var f=t.pos[0]+(r.offsetLeft||0),e=t.pos[1]+(r.offsetTop||0),o=c.tickFormat()(i.x()(t.point,t.pointIndex)),s=u.tickFormat()(i.y()(t.point,t.pointIndex)),h=p(t.series.key,o,s,t,n);nv.tooltip.show([f,e],h,t.value<0?"n":"s",null,r)};i.dispatch.on("tooltipShow",function(n){n.pos=[n.pos[0]+t.left,n.pos[1]+t.top];f.tooltipShow(n)});i.dispatch.on("tooltipHide",function(n){f.tooltipHide(n)});f.on("tooltipHide",function(){y&&nv.tooltip.cleanup()});return n.dispatch=f,n.stacked=i,n.legend=e,n.controls=o,n.xAxis=c,n.yAxis=u,n.interactiveLayer=s,d3.rebind(n,i,"x","y","size","xScale","yScale","xDomain","yDomain","xRange","yRange","sizeDomain","interactive","useVoronoi","offset","order","style","clipEdge","forceX","forceY","forceSize","interpolate"),n.options=nv.utils.optionsFunc.bind(n),n.margin=function(i){return arguments.length?(t.top=typeof i.top!="undefined"?i.top:t.top,t.right=typeof i.right!="undefined"?i.right:t.right,t.bottom=typeof i.bottom!="undefined"?i.bottom:t.bottom,t.left=typeof i.left!="undefined"?i.left:t.left,n):t},n.width=function(t){return arguments.length?(d=t,n):d},n.height=function(t){return arguments.length?(a=t,n):a},n.color=function(t){return arguments.length?(v=nv.utils.getColor(t),e.color(v),i.color(v),n):v},n.showControls=function(t){return arguments.length?(w=t,n):w},n.showLegend=function(t){return arguments.length?(g=t,n):g},n.showXAxis=function(t){return arguments.length?(nt=t,n):nt},n.showYAxis=function(t){return arguments.length?(tt=t,n):tt},n.rightAlignYAxis=function(t){return arguments.length?(b=t,u.orient(t?"right":"left"),n):b},n.useInteractiveGuideline=function(t){return arguments.length?(it=t,t===!0&&(n.interactive(!1),n.useVoronoi(!1)),n):it},n.tooltip=function(t){return arguments.length?(p=t,n):p},n.tooltips=function(t){return arguments.length?(y=t,n):y},n.tooltipContent=function(t){return arguments.length?(p=t,n):p},n.state=function(t){return arguments.length?(r=t,n):r},n.defaultState=function(t){return arguments.length?(l=t,n):l},n.noData=function(t){return arguments.length?(ft=t,n):ft},n.transitionDuration=function(t){return arguments.length?(ot=t,n):ot},n.controlsData=function(t){return arguments.length?(k=t,n):k},n.controlLabels=function(t){return arguments.length?typeof t!="object"?h:(h=t,n):h},u.setTickFormat=u.tickFormat,u.tickFormat=function(n){return arguments.length?(ut=n,u):ut},n};
//# sourceMappingURL=stackedAreaChart.min.js.map