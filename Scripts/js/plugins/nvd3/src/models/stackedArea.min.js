nv.models.stackedArea=function(){"use strict";function n(l){return l.each(function(l){var nt=h-t.left-t.right,tt=c-t.top-t.bottom,et=d3.select(this),g,it,ft;w=i.xScale();s=i.yScale();g=l;l.forEach(function(n,t){n.seriesIndex=t;n.values=n.values.map(function(n,i){return n.index=i,n.seriesIndex=t,n})});it=l.filter(function(n){return!n.disabled});l=d3.layout.stack().order(v).offset(a).values(function(n){return n.values}).x(u).y(o).out(function(n,t,i){var r=o(n)===0?0:i;n.display={y:r,y0:t}})(it);var k=et.selectAll("g.nv-wrap.nv-stackedarea").data([l]),rt=k.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),ot=rt.append("defs"),ut=rt.append("g"),b=k.select("g");ut.append("g").attr("class","nv-areaWrap");ut.append("g").attr("class","nv-scatterWrap");k.attr("transform","translate("+t.left+","+t.top+")");i.width(nt).height(tt).x(u).y(function(n){return n.display.y+n.display.y0}).forceY([0]).color(l.map(function(n){return n.color||f(n,n.seriesIndex)}));ft=b.select(".nv-scatterWrap").datum(l);ft.call(i);ot.append("clipPath").attr("id","nv-edge-clip-"+e).append("rect");k.select("#nv-edge-clip-"+e+" rect").attr("width",nt).attr("height",tt);b.attr("clip-path",p?"url(#nv-edge-clip-"+e+")":"");var st=d3.svg.area().x(function(n,t){return w(u(n,t))}).y0(function(n){return s(n.display.y0)}).y1(function(n){return s(n.display.y+n.display.y0)}).interpolate(y),ht=d3.svg.area().x(function(n,t){return w(u(n,t))}).y0(function(n){return s(n.display.y0)}).y1(function(n){return s(n.display.y0)}),d=b.select(".nv-areaWrap").selectAll("path.nv-area").data(function(n){return n});d.enter().append("path").attr("class",function(n,t){return"nv-area nv-area-"+t}).attr("d",function(n){return ht(n.values,n.seriesIndex)}).on("mouseover",function(n){d3.select(this).classed("hover",!0);r.areaMouseover({point:n,series:n.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:n.seriesIndex})}).on("mouseout",function(n){d3.select(this).classed("hover",!1);r.areaMouseout({point:n,series:n.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:n.seriesIndex})}).on("click",function(n){d3.select(this).classed("hover",!1);r.areaClick({point:n,series:n.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:n.seriesIndex})});d.exit().remove();d.style("fill",function(n){return n.color||f(n,n.seriesIndex)}).style("stroke",function(n){return n.color||f(n,n.seriesIndex)});d.transition().attr("d",function(n,t){return st(n.values,t)});i.dispatch.on("elementMouseover.area",function(n){b.select(".nv-chart-"+e+" .nv-area-"+n.seriesIndex).classed("hover",!0)});i.dispatch.on("elementMouseout.area",function(n){b.select(".nv-chart-"+e+" .nv-area-"+n.seriesIndex).classed("hover",!1)});n.d3_stackedOffset_stackPercent=function(n){for(var u=n.length,f=n[0].length,s=1/u,t,r,e=[],i=0;i<f;++i){for(t=0,r=0;t<g.length;t++)r+=o(g[t].values[i]);if(r)for(t=0;t<u;t++)n[t][i][1]/=r;else for(t=0;t<u;t++)n[t][i][1]=s}for(i=0;i<f;++i)e[i]=0;return e}}),n}var t={top:0,right:0,bottom:0,left:0},h=960,c=500,f=nv.utils.defaultColor(),e=Math.floor(Math.random()*1e5),u=function(n){return n.x},o=function(n){return n.y},l="stack",a="zero",v="default",y="linear",p=!1,w,s,i=nv.models.scatter(),r=d3.dispatch("tooltipShow","tooltipHide","areaClick","areaMouseover","areaMouseout");i.size(2.2).sizeDomain([2.2,2.2]);i.dispatch.on("elementClick.area",function(n){r.areaClick(n)});i.dispatch.on("elementMouseover.tooltip",function(n){n.pos=[n.pos[0]+t.left,n.pos[1]+t.top];r.tooltipShow(n)});i.dispatch.on("elementMouseout.tooltip",function(n){r.tooltipHide(n)});return n.dispatch=r,n.scatter=i,d3.rebind(n,i,"interactive","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","forceX","forceY","forceSize","clipVoronoi","useVoronoi","clipRadius","highlightPoint","clearHighlights"),n.options=nv.utils.optionsFunc.bind(n),n.x=function(t){return arguments.length?(u=d3.functor(t),n):u},n.y=function(t){return arguments.length?(o=d3.functor(t),n):o},n.margin=function(i){return arguments.length?(t.top=typeof i.top!="undefined"?i.top:t.top,t.right=typeof i.right!="undefined"?i.right:t.right,t.bottom=typeof i.bottom!="undefined"?i.bottom:t.bottom,t.left=typeof i.left!="undefined"?i.left:t.left,n):t},n.width=function(t){return arguments.length?(h=t,n):h},n.height=function(t){return arguments.length?(c=t,n):c},n.clipEdge=function(t){return arguments.length?(p=t,n):p},n.color=function(t){return arguments.length?(f=nv.utils.getColor(t),n):f},n.offset=function(t){return arguments.length?(a=t,n):a},n.order=function(t){return arguments.length?(v=t,n):v},n.style=function(t){if(!arguments.length)return l;l=t;switch(l){case"stack":n.offset("zero");n.order("default");break;case"stream":n.offset("wiggle");n.order("inside-out");break;case"stream-center":n.offset("silhouette");n.order("inside-out");break;case"expand":n.offset("expand");n.order("default");break;case"stack_percent":n.offset(n.d3_stackedOffset_stackPercent);n.order("default")}return n},n.interpolate=function(t){return arguments.length?(y=t,n):y},n};
//# sourceMappingURL=stackedArea.min.js.map