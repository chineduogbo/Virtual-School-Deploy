(function(){"use strict";window.nv.tooltip={};window.nv.models.tooltip=function(){function k(){var n,r,u;t&&(n=d3.select(t),n.node().tagName!=="svg"&&(n=n.select("svg")),r=n.node()?n.attr("viewBox"):null,r&&(r=r.split(" "),u=parseInt(n.style("width"))/r[2],i.left=i.left*u,i.top=i.top*u))}function d(n){var r,i;return r=t?d3.select(t):d3.select("body"),i=r.select(".nvtooltip"),i.node()===null&&(i=r.append("div").attr("class","nvtooltip "+(o?o:"xy-tooltip")).attr("id",w)),i.node().innerHTML=n,i.style("top",0).style("left",0).style("opacity",0),i.selectAll("div, table, td, tr").classed(l,!0),i.classed(l,!0),i.node()}function n(){var tt;if(c&&b(f)){k();var v=i.left,o=e!=null?e:i.top,w=d(y(f));if(p=w,t){var l=t.getElementsByTagName("svg")[0],it=l?l.getBoundingClientRect():t.getBoundingClientRect(),a={left:0,top:0};if(l){var g=l.getBoundingClientRect(),nt=t.getBoundingClientRect(),u=g.top;u<0&&(tt=t.getBoundingClientRect(),u=Math.abs(u)>tt.height?0:u);a.top=Math.abs(u-nt.top);a.left=Math.abs(g.left-nt.left)}v+=t.offsetLeft+a.left-2*t.scrollLeft;o+=t.offsetTop+a.top-2*t.scrollTop}return r&&r>0&&(o=Math.floor(o/r)*r),nv.tooltip.calcTooltipPosition([v,o],s,h,w),n}}var u=null,f=null,s="w",h=50,r=25,e=null,o=null,t=null,p=null,i={left:null,top:null},c=!0,w="nvtooltip-"+Math.floor(Math.random()*1e5),l="nv-pointer-events-none",a=function(n){return n},v=function(n){return n},y=function(n){var i,f,e,t,r;return u!=null?u:n==null?"":(i=d3.select(document.createElement("table")),f=i.selectAll("thead").data([n]).enter().append("thead"),f.append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(v(n.value)),e=i.selectAll("tbody").data([n]).enter().append("tbody"),t=e.selectAll("tr").data(function(n){return n.series}).enter().append("tr").classed("highlight",function(n){return n.highlight}),t.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(n){return n.color}),t.append("td").classed("key",!0).html(function(n){return n.key}),t.append("td").classed("value",!0).html(function(n,t){return a(n.value,t)}),t.selectAll("td").each(function(n){if(n.highlight){var t=d3.scale.linear().domain([0,1]).range(["#fff",n.color]),i=.6;d3.select(this).style("border-bottom-color",t(i)).style("border-top-color",t(i))}}),r=i.node().outerHTML,n.footer!==undefined&&(r+="<div class='footer'>"+n.footer+"<\/div>"),r)},b=function(n){return n&&n.series&&n.series.length>0?!0:!1};return n.nvPointerEventsClass=l,n.content=function(t){return arguments.length?(u=t,n):u},n.tooltipElem=function(){return p},n.contentGenerator=function(t){return arguments.length?(typeof t=="function"&&(y=t),n):y},n.data=function(t){return arguments.length?(f=t,n):f},n.gravity=function(t){return arguments.length?(s=t,n):s},n.distance=function(t){return arguments.length?(h=t,n):h},n.snapDistance=function(t){return arguments.length?(r=t,n):r},n.classes=function(t){return arguments.length?(o=t,n):o},n.chartContainer=function(i){return arguments.length?(t=i,n):t},n.position=function(t){return arguments.length?(i.left=typeof t.left!="undefined"?t.left:i.left,i.top=typeof t.top!="undefined"?t.top:i.top,n):i},n.fixedTop=function(t){return arguments.length?(e=t,n):e},n.enabled=function(t){return arguments.length?(c=t,n):c},n.valueFormatter=function(t){return arguments.length?(typeof t=="function"&&(a=t),n):a},n.headerFormatter=function(t){return arguments.length?(typeof t=="function"&&(v=t),n):v},n.id=function(){return w},n};nv.tooltip.show=function(n,t,i,r,u,f){var e=document.createElement("div"),o;e.className="nvtooltip "+(f?f:"xy-tooltip");o=u;(!u||u.tagName.match(/g|svg/i))&&(o=document.getElementsByTagName("body")[0]);e.style.left=0;e.style.top=0;e.style.opacity=0;e.innerHTML=t;o.appendChild(e);u&&(n[0]=n[0]-u.scrollLeft,n[1]=n[1]-u.scrollTop);nv.tooltip.calcTooltipPosition(n,i,r,e)};nv.tooltip.findFirstNonSVGParent=function(n){while(n.tagName.match(/^g|svg$/i)!==null)n=n.parentNode;return n};nv.tooltip.findTotalOffsetTop=function(n,t){var i=t;do isNaN(n.offsetTop)||(i+=n.offsetTop);while(n=n.offsetParent);return i};nv.tooltip.findTotalOffsetLeft=function(n,t){var i=t;do isNaN(n.offsetLeft)||(i+=n.offsetLeft);while(n=n.offsetParent);return i};nv.tooltip.calcTooltipPosition=function(n,t,i,r){var h=parseInt(r.offsetHeight),c=parseInt(r.offsetWidth),v=nv.utils.windowSize().width,l=nv.utils.windowSize().height,o=window.pageYOffset,a=window.pageXOffset,f,u,y,p,s,e;l=window.innerWidth>=document.body.scrollWidth?l:l-16;v=window.innerHeight>=document.body.scrollHeight?v:v-16;t=t||"s";i=i||20;y=function(n){return nv.tooltip.findTotalOffsetTop(n,u)};p=function(n){return nv.tooltip.findTotalOffsetLeft(n,f)};switch(t){case"e":f=n[0]-c-i;u=n[1]-h/2;s=p(r);e=y(r);s<a&&(f=n[0]+i>a?n[0]+i:a-s+f);e<o&&(u=o-e+u);e+h>o+l&&(u=o+l-e+u-h);break;case"w":f=n[0]+i;u=n[1]-h/2;s=p(r);e=y(r);s+c>v&&(f=n[0]-c-i);e<o&&(u=o+5);e+h>o+l&&(u=o+l-e+u-h);break;case"n":f=n[0]-c/2-5;u=n[1]+i;s=p(r);e=y(r);s<a&&(f=a+5);s+c>v&&(f=f-c/2+5);e+h>o+l&&(u=o+l-e+u-h);break;case"s":f=n[0]-c/2;u=n[1]-h-i;s=p(r);e=y(r);s<a&&(f=a+5);s+c>v&&(f=f-c/2+5);o>e&&(u=o);break;case"none":f=n[0];u=n[1]-i;s=p(r);e=y(r)}return r.style.left=f+"px",r.style.top=u+"px",r.style.opacity=1,r.style.position="absolute",r};nv.tooltip.cleanup=function(){for(var n=document.getElementsByClassName("nvtooltip"),t=[];n.length;)t.push(n[0]),n[0].style.transitionDelay="0 !important",n[0].style.opacity=0,n[0].className="nvtooltip-pending-removal";setTimeout(function(){while(t.length){var n=t.pop();n.parentNode.removeChild(n)}},500)}})();
//# sourceMappingURL=tooltip.min.js.map