(function(n){typeof exports=="object"&&typeof module=="object"?n(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)})(function(n){"use strict";n.defineMode("dtd",function(n){function i(n,i){return t=i,n}function r(n,t){var r=n.next(),f;if(r=="<"&&n.eat("!")){if(n.eatWhile(/[\-]/))return t.tokenize=u,u(n,t);if(n.eatWhile(/[\w]/))return i("keyword","doindent")}else return r=="<"&&n.eat("?")?(t.tokenize=o("meta","?>"),i("meta",r)):r=="#"&&n.eatWhile(/[\w]/)?i("atom","tag"):r=="|"?i("keyword","seperator"):r.match(/[\(\)\[\]\-\.,\+\?>]/)?i(null,r):r.match(/[\[\]]/)?i("rule",r):r=='"'||r=="'"?(t.tokenize=e(r),t.tokenize(n,t)):n.eatWhile(/[a-zA-Z\?\+\d]/)?(f=n.current(),f.substr(f.length-1,f.length).match(/\?|\+/)!==null&&n.backUp(1),i("tag","tag")):r=="%"||r=="*"?i("number","number"):(n.eatWhile(/[\w\\\-_%.{,]/),i(null,null))}function u(n,t){for(var u=0,f;(f=n.next())!=null;){if(u>=2&&f==">"){t.tokenize=r;break}u=f=="-"?u+1:0}return i("comment","comment")}function e(n){return function(t,u){for(var f=!1,e;(e=t.next())!=null;){if(e==n&&!f){u.tokenize=r;break}f=!f&&e=="\\"}return i("string","tag")}}function o(n,t){return function(i,u){while(!i.eol()){if(i.match(t)){u.tokenize=r;break}i.next()}return n}}var f=n.indentUnit,t;return{startState:function(n){return{tokenize:r,baseIndent:n||0,stack:[]}},token:function(n,i){if(n.eatSpace())return null;var r=i.tokenize(n,i),u=i.stack[i.stack.length-1];return n.current()=="["||t==="doindent"||t=="["?i.stack.push("rule"):t==="endtag"?i.stack[i.stack.length-1]="endtag":n.current()=="]"||t=="]"||t==">"&&u=="rule"?i.stack.pop():t=="["&&i.stack.push("["),r},indent:function(n,i){var r=n.stack.length;return i.match(/\]\s+|\]/)?r=r-1:i.substr(i.length-1,i.length)===">"&&(i.substr(0,1)==="<"?r:t=="doindent"&&i.length>1?r:t=="doindent"?r--:t==">"&&i.length>1?r:t=="tag"&&i!==">"?r:t=="tag"&&n.stack[n.stack.length-1]=="rule"?r--:t=="tag"?r++:i===">"&&n.stack[n.stack.length-1]=="rule"&&t===">"?r--:i===">"&&n.stack[n.stack.length-1]=="rule"?r:i.substr(0,1)!=="<"&&i.substr(0,1)===">"?r=r-1:i===">"?r:r=r-1,(t==null||t=="]")&&r--),n.baseIndent+r*f},electricChars:"]>"}});n.defineMIME("application/xml-dtd","dtd")});
//# sourceMappingURL=dtd.min.js.map