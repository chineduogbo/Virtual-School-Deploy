!function (n) { var r, i, o = "0.4.2", e = "hasOwnProperty", f = /[\.\/]/, s = "*", h = function () { }, c = function (n, t) { return n - t }, u = { n: {} }, t = function (n, u) { var e, y; n = String(n); var f, p = i, a = Array.prototype.slice.call(arguments, 2), o = t.listeners(n), l = 0, h = [], v = {}, s = [], w = r; for (r = n, i = 0, e = 0, y = o.length; y > e; e++) "zIndex" in o[e] && (h.push(o[e].zIndex), o[e].zIndex < 0 && (v[o[e].zIndex] = o[e])); for (h.sort(c) ; h[l] < 0;) if (f = v[h[l++]], s.push(f.apply(u, a)), i) return i = p, s; for (e = 0; y > e; e++) if (f = o[e], "zIndex" in f) if (f.zIndex == h[l]) { if (s.push(f.apply(u, a)), i) break; do if (l++, f = v[h[l]], f && s.push(f.apply(u, a)), i) break; while (f) } else v[f.zIndex] = f; else if (s.push(f.apply(u, a)), i) break; return i = p, r = w, s.length ? s : null }; t._events = u; t.listeners = function (n) { for (var t, a, o, r, y, h, p = n.split(f), e = u, c = [e], l = [], i = 0, v = p.length; v > i; i++) { for (h = [], r = 0, y = c.length; y > r; r++) for (e = c[r].n, a = [e[p[i]], e[s]], o = 2; o--;) t = a[o], t && (h.push(t), l = l.concat(t.f || [])); c = h } return l }; t.on = function (n, t) { if (n = String(n), "function" != typeof t) return function () { }; for (var e = n.split(f), i = u, r = 0, o = e.length; o > r; r++) i = i.n, i = i.hasOwnProperty(e[r]) && i[e[r]] || (i[e[r]] = { n: {} }); for (i.f = i.f || [], r = 0, o = i.f.length; o > r; r++) if (i.f[r] == t) return h; return i.f.push(t), function (n) { +n == +n && (t.zIndex = +n) } }; t.f = function (n) { var i = [].slice.call(arguments, 1); return function () { t.apply(null, [n, null].concat(i).concat([].slice.call(arguments, 0))) } }; t.stop = function () { i = 1 }; t.nt = function (n) { return n ? new RegExp("(?:\\.|\\/|^)" + n + "(?:\\.|\\/|$)").test(r) : r }; t.nts = function () { return r.split(f) }; t.off = t.unbind = function (n, i) { var r, h, a, c, p, o, w, v, l, y; if (!n) return void (t._events = u = { n: {} }); for (v = n.split(f), l = [u], c = 0, p = v.length; p > c; c++) for (o = 0; o < l.length; o += a.length - 2) { if (a = [o, 1], r = l[o].n, v[c] != s) r[v[c]] && a.push(r[v[c]]); else for (h in r) r[e](h) && a.push(r[h]); l.splice.apply(l, a) } for (c = 0, p = l.length; p > c; c++) for (r = l[c]; r.n;) { if (i) { if (r.f) { for (o = 0, w = r.f.length; w > o; o++) if (r.f[o] == i) { r.f.splice(o, 1); break } r.f.length || delete r.f } for (h in r.n) if (r.n[e](h) && r.n[h].f) { for (y = r.n[h].f, o = 0, w = y.length; w > o; o++) if (y[o] == i) { y.splice(o, 1); break } y.length || delete r.n[h].f } } else { delete r.f; for (h in r.n) r.n[e](h) && r.n[h].f && delete r.n[h].f } r = r.n } }; t.once = function (n, i) { var r = function () { return t.unbind(n, r), i.apply(this, arguments) }; return t.on(n, r) }; t.version = o; t.toString = function () { return "You are running Eve " + o }; "undefined" != typeof module && module.exports ? module.exports = t : "undefined" != typeof define ? define("eve", [], function () { return t }) : n.eve = t }(window || this), function (n, t) { "function" == typeof define && define.amd ? define(["eve"], function (i) { return t(n, i) }) : t(n, n.eve) }(this, function (n, t) { function i(n) { var r, u; return i.is(n, "function") ? ei ? n() : t.on("raphael.DOMload", n) : i.is(n, d) ? i._engine.create[l](i, n.splice(0, 3 + i.is(n[0], v))).add(n) : (r = Array.prototype.slice.call(arguments, 0), i.is(r[r.length - 1], "function")) ? (u = r.pop(), ei ? u.call(i._engine.create[l](i, r)) : t.on("raphael.DOMload", function () { u.call(i._engine.create[l](i, r)) })) : i._engine.create[l](i, arguments) } function vt(n) { var i, t; if ("function" == typeof n || Object(n) !== n) return n; i = new n.constructor; for (t in n) n[c](t) && (i[t] = vt(n[t])); return i } function sr(n, t) { for (var i = 0, r = n.length; r > i; i++) if (n[i] === t) return n.push(n.splice(i, 1)[0]) } function nt(n, t, i) { function r() { var o = Array.prototype.slice.call(arguments, 0), u = o.join("␀"), f = r.cache = r.cache || {}, e = r.count = r.count || []; return f[c](u) ? (sr(e, u), i ? i(f[u]) : f[u]) : (e.length >= 1e3 && delete f[e.shift()], e.push(u), f[u] = n[l](t, o), i ? i(f[u]) : f[u]) } return r } function yt() { return this.hex } function yi(n, t) { for (var i, f = [], r = 0, u = n.length; u - 2 * !t > r; r += 2) i = [{ x: +n[r - 2], y: +n[r - 1] }, { x: +n[r], y: +n[r + 1] }, { x: +n[r + 2], y: +n[r + 3] }, { x: +n[r + 4], y: +n[r + 5] }], t ? r ? u - 4 == r ? i[3] = { x: +n[0], y: +n[1] } : u - 2 == r && (i[2] = { x: +n[0], y: +n[1] }, i[3] = { x: +n[2], y: +n[3] }) : i[0] = { x: +n[u - 2], y: +n[u - 1] } : u - 4 == r ? i[3] = i[2] : r || (i[0] = { x: +n[r], y: +n[r + 1] }), f.push(["C", (-i[0].x + 6 * i[1].x + i[2].x) / 6, (-i[0].y + 6 * i[1].y + i[2].y) / 6, (i[1].x + 6 * i[2].x - i[3].x) / 6, (i[1].y + 6 * i[2].y - i[3].y) / 6, i[2].x, i[2].y]); return f } function st(n, t, i, r, u) { var f = -3 * t + 9 * i - 9 * r + 3 * u, e = n * f + 6 * t - 12 * i + 6 * r; return n * e - 3 * t + 3 * i } function it(n, t, i, r, f, e, o, s, h) { null == h && (h = 1); h = h > 1 ? 1 : 0 > h ? 0 : h; for (var l = h / 2, w = [-.1252, .1252, -.3678, .3678, -.5873, .5873, -.7699, .7699, -.9041, .9041, -.9816, .9816], b = [.2491, .2491, .2335, .2335, .2032, .2032, .1601, .1601, .1069, .1069, .0472, .0472], a = 0, c = 0; 12 > c; c++) { var v = l * w[c] + l, y = st(v, n, i, f, o), p = st(v, t, r, e, s), k = y * y + p * p; a += b[c] * u.sqrt(k) } return l * a } function w(n, t, i, r, u, f, e, o, s) { if (!(0 > s || it(n, t, i, r, u, f, e, o) < s)) { for (var v = 1, l = v / 2, c = v - l, h = it(n, t, i, r, u, f, e, o, c) ; a(h - s) > .01;) l /= 2, c += (s > h ? 1 : -1) * l, h = it(n, t, i, r, u, f, e, o, c); return c } } function ht(n, t, i, r, u, e, o, s) { if (!(f(n, i) < h(u, o) || h(n, i) > f(u, o) || f(t, r) < h(e, s) || h(t, r) > f(e, s))) { var p = (n * r - t * i) * (u - o) - (n - i) * (u * s - e * o), w = (n * r - t * i) * (e - s) - (t - r) * (u * s - e * o), a = (n - i) * (e - s) - (t - r) * (u - o); if (a) { var v = p / a, y = w / a, c = +v.toFixed(2), l = +y.toFixed(2); if (!(c < +h(n, i).toFixed(2) || c > +f(n, i).toFixed(2) || c < +h(u, o).toFixed(2) || c > +f(u, o).toFixed(2) || l < +h(t, r).toFixed(2) || l > +f(t, r).toFixed(2) || l < +h(e, s).toFixed(2) || l > +f(e, s).toFixed(2))) return { x: v, y: y } } } } function hr(n, t, r) { var ft = i.bezierBBox(n), et = i.bezierBBox(t), c, l, d, g; if (!i.isBBoxIntersect(ft, et)) return r ? 0 : []; for (var ot = it.apply(0, n), st = it.apply(0, t), p = f(~~(ot / 5), 1), w = f(~~(st / 5), 1), nt = [], tt = [], ut = {}, rt = r ? 0 : [], u = 0; p + 1 > u; u++) c = i.findDotsAtSegment.apply(i, n.concat(u / p)), nt.push({ x: c.x, y: c.y, t: u / p }); for (u = 0; w + 1 > u; u++) c = i.findDotsAtSegment.apply(i, t.concat(u / w)), tt.push({ x: c.x, y: c.y, t: u / w }); for (u = 0; p > u; u++) for (l = 0; w > l; l++) { var o = nt[u], v = nt[u + 1], s = tt[l], y = tt[l + 1], b = a(v.x - o.x) < .001 ? "y" : "x", k = a(y.x - s.x) < .001 ? "y" : "x", e = ht(o.x, o.y, v.x, v.y, s.x, s.y, y.x, y.y); if (e) { if (ut[e.x.toFixed(4)] == e.y.toFixed(4)) continue; ut[e.x.toFixed(4)] = e.y.toFixed(4); d = o.t + a((e[b] - o[b]) / (v[b] - o[b])) * (v.t - o.t); g = s.t + a((e[k] - s[k]) / (y[k] - s[k])) * (y.t - s.t); d >= 0 && 1.001 >= d && g >= 0 && 1.001 >= g && (r ? rt++ : rt.push({ x: e.x, y: e.y, t1: h(d, 1), t2: h(g, 1) })) } } return rt } function fi(n, t, r) { var a, y, nt, v, u, f, tt; n = i._path2curve(n); t = i._path2curve(t); for (var e, o, s, h, p, w, b, k, c, l, d = r ? 0 : [], g = 0, it = n.length; it > g; g++) if (a = n[g], "M" == a[0]) e = p = a[1], o = w = a[2]; else for ("C" == a[0] ? (c = [e, o].concat(a.slice(1)), e = c[6], o = c[7]) : (c = [e, o, e, o, p, w, p, w], e = p, o = w), y = 0, nt = t.length; nt > y; y++) if (v = t[y], "M" == v[0]) s = b = v[1], h = k = v[2]; else if ("C" == v[0] ? (l = [s, h].concat(v.slice(1)), s = l[6], h = l[7]) : (l = [s, h, s, h, b, k, b, k], s = b, h = k), u = hr(c, l, r), r) d += u; else { for (f = 0, tt = u.length; tt > f; f++) u[f].segment1 = g, u[f].segment2 = y, u[f].bez1 = c, u[f].bez2 = l; d = d.concat(u) } return d } function ft(n, t, i, r, u, f) { null != n ? (this.a = +n, this.b = +t, this.c = +i, this.d = +r, this.e = +u, this.f = +f) : (this.a = 1, this.b = 0, this.c = 0, this.d = 1, this.e = 0, this.f = 0) } function pi() { return this.x + lt + this.y + lt + this.width + " × " + this.height } function cr(n, t, i, r, u, f) { function h(n) { return ((c * n + o) * n + e) * n } function v(n, t) { var i = y(n, t); return ((p * i + l) * i + s) * i } function y(n, t) { for (var r, u, f, s, i = n, l = 0; 8 > l; l++) { if (f = h(i) - n, a(f) < t) return i; if (s = (3 * c * i + 2 * o) * i + e, a(s) < 1e-6) break; i -= f / s } if (r = 0, u = 1, i = n, r > i) return r; if (i > u) return u; for (; u > r;) { if (f = h(i), a(f - n) < t) return i; n > f ? r = i : u = i; i = (u - r) / 2 + r } return i } var e = 3 * t, o = 3 * (r - t) - e, c = 1 - e - o, s = 3 * i, l = 3 * (u - i) - s, p = 1 - s - l; return v(n, 1 / (200 * f)) } function rt(n, t) { var i = [], u = {}, r; if (this.ms = t, this.times = 1, n) { for (r in n) n[c](r) && (u[o(r)] = n[r], i.push(o(r))); i.sort(tu) } this.anim = u; this.top = i[i.length - 1]; this.percents = i } function ct(n, r, u, f, s, h) { var g, a, et, l, lt, kt, ti, nt, vt, dt, yt, k, rt, st, ht, gt, ut, ct; u = o(u); var it, ot, pt, ni, wt, bt, w = n.ms, p = {}, d = {}, b = {}; if (f) { for (a = 0, et = ic.length; et > a; a++) if (g = ic[a], g.el.id == r.id && g.anim == n) { g.percent != u ? (ic.splice(a, 1), pt = 1) : ot = g; r.attr(g.totalOrigin); break } } else f = +d; for (a = 0, et = n.percents.length; et > a; a++) { if (n.percents[a] == u || n.percents[a] > f * n.top) { u = n.percents[a]; wt = n.percents[a - 1] || 0; w = w / n.top * (u - wt); ni = n.percents[a + 1]; it = n.anim[u]; break } f && r.attr(n.anim[n.percents[a]]) } if (it) { if (ot) ot.initstatus = f, ot.start = new Date - ot.ms * f; else { for (l in it) if (it[c](l) && (ci[c](l) || r.paper.customAttributes[c](l))) switch (p[l] = r.attr(l), null == p[l] && (p[l] = br[l]), d[l] = it[l], ci[l]) { case v: b[l] = (d[l] - p[l]) / w; break; case "colour": p[l] = i.getRGB(p[l]); lt = i.getRGB(d[l]); b[l] = { r: (lt.r - p[l].r) / w, g: (lt.g - p[l].g) / w, b: (lt.b - p[l].b) / w }; break; case "path": for (kt = at(p[l], d[l]), ti = kt[1], p[l] = kt[0], b[l] = [], a = 0, et = p[l].length; et > a; a++) for (b[l][a] = [0], nt = 1, vt = p[l][a].length; vt > nt; nt++) b[l][a][nt] = (ti[a][nt] - p[l][a][nt]) / w; break; case "transform": if (dt = r._, yt = Pb(dt[l], d[l]), yt) for (p[l] = yt.from, d[l] = yt.to, b[l] = [], b[l].real = !0, a = 0, et = p[l].length; et > a; a++) for (b[l][a] = [p[l][a][0]], nt = 1, vt = p[l][a].length; vt > nt; nt++) b[l][a][nt] = (d[l][a][nt] - p[l][a][nt]) / w; else k = r.matrix || new ft, rt = { _: { transform: dt.transform }, getBBox: function () { return r.getBBox(1) } }, p[l] = [k.a, k.b, k.c, k.d, k.e, k.f], Nb(rt, d[l]), d[l] = rt._.transform, b[l] = [(rt.matrix.a - k.a) / w, (rt.matrix.b - k.b) / w, (rt.matrix.c - k.c) / w, (rt.matrix.d - k.d) / w, (rt.matrix.e - k.e) / w, (rt.matrix.f - k.f) / w]; break; case "csv": if (st = y(it[l])[tt](oi), ht = y(p[l])[tt](oi), "clip-rect" == l) for (p[l] = ht, b[l] = [], a = ht.length; a--;) b[l][a] = (st[a] - p[l][a]) / w; d[l] = st; break; default: for (st = [][e](it[l]), ht = [][e](p[l]), b[l] = [], a = r.paper.customAttributes[l].length; a--;) b[l][a] = ((st[a] || 0) - (ht[a] || 0)) / w } if (gt = it.easing, ut = i.easing_formulas[gt], ut || ((ut = y(gt).match(wr), ut && 5 == ut.length) ? (ct = ut, ut = function (n) { return cr(n, +ct[1], +ct[2], +ct[3], +ct[4], w) }) : ut = ru), bt = it.start || n.start || +new Date, g = { anim: n, percent: u, timestamp: bt, start: bt + (n.del || 0), status: 0, initstatus: f || 0, stop: !1, ms: w, easing: ut, from: p, diff: b, to: d, el: r, callback: it.callback, prev: wt, next: ni, repeat: h || n.times, origin: r.attr(), totalOrigin: s }, ic.push(g), f && !ot && !pt && (g.stop = !0, g.start = new Date - w * f, 1 == ic.length)) return kc(); pt && (g.start = new Date - g.ms * f); 1 == ic.length && jc(kc) } t("raphael.anim.start." + r.id, r, n) } } function wi(n) { for (var t = 0; t < ic.length; t++) ic[t].el.paper == n && ic.splice(t--, 1) } var ni, ti, ut; i.version = "2.1.2"; i.eve = t; var ei, s, oi = /[, ]+/, lr = { circle: 1, rect: 1, path: 1, ellipse: 1, text: 1, image: 1 }, ar = /\{(\d+)\}/g, c = "hasOwnProperty", r = { doc: document, win: n }, si = { was: Object.prototype[c].call(r.win, "Raphael"), is: r.win.Raphael }, bi = function () { this.ca = this.customAttributes = {} }, l = "apply", e = "concat", pt = "ontouchstart" in r.win || r.win.DocumentTouch && r.doc instanceof DocumentTouch, b = "", lt = " ", y = String, tt = "split", ki = "click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[tt](lt), wt = { mousedown: "touchstart", mousemove: "touchmove", mouseup: "touchend" }, bt = y.prototype.toLowerCase, u = Math, f = u.max, h = u.min, a = u.abs, k = u.pow, p = u.PI, v = "number", kt = "string", d = "array", vr = Object.prototype.toString, yr = (i._ISURL = /^url\(['"]?([^\)]+?)['"]?\)$/i, /^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i), pr = { NaN: 1, Infinity: 1, "-Infinity": 1 }, wr = /^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/, hi = u.round, o = parseFloat, et = parseInt, di = y.prototype.toUpperCase, br = i._availableAttrs = { "arrow-end": "none", "arrow-start": "none", blur: 0, "clip-rect": "0 0 1e9 1e9", cursor: "default", cx: 0, cy: 0, fill: "#fff", "fill-opacity": 1, font: '10px "Arial"', "font-family": '"Arial"', "font-size": "10", "font-style": "normal", "font-weight": 400, gradient: 0, height: 0, href: "http://raphaeljs.com/", "letter-spacing": 0, opacity: 1, path: "M0,0", r: 0, rx: 0, ry: 0, src: "", stroke: "#000", "stroke-dasharray": "", "stroke-linecap": "butt", "stroke-linejoin": "butt", "stroke-miterlimit": 0, "stroke-opacity": 1, "stroke-width": 1, target: "_blank", "text-anchor": "middle", title: "Raphael", transform: "", width: 0, x: 0, y: 0 }, ci = i._availableAnimAttrs = { blur: v, "clip-rect": "csv", cx: v, cy: v, fill: "colour", "fill-opacity": v, "font-size": v, height: v, opacity: v, path: "path", r: v, rx: v, ry: v, stroke: "colour", "stroke-opacity": v, "stroke-width": v, transform: "transform", width: v, x: v, y: v }, li = /[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/, kr = { hs: 1, rg: 1 }, dr = /,?([achlmqrstvxz]),?/gi, gr = /([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi, nu = /([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi, gi = /(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi, ot = (i._radial_gradient = /^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/, {}), tu = function (n, t) { return o(n) - o(t) }, iu = function () { }, ru = function (n) { return n }, dt = i._rectPath = function (n, t, i, r, u) { return u ? [["M", n + u, t], ["l", i - 2 * u, 0], ["a", u, u, 0, 0, 1, u, u], ["l", 0, r - 2 * u], ["a", u, u, 0, 0, 1, -u, u], ["l", 2 * u - i, 0], ["a", u, u, 0, 0, 1, -u, -u], ["l", 0, 2 * u - r], ["a", u, u, 0, 0, 1, u, -u], ["z"]] : [["M", n, t], ["l", i, 0], ["l", 0, r], ["l", -i, 0], ["z"]] }, nr = function (n, t, i, r) { return null == r && (r = i), [["M", n, t], ["m", 0, -r], ["a", i, r, 0, 1, 1, 0, 2 * r], ["a", i, r, 0, 1, 1, 0, -2 * r], ["z"]] }, gt = i._getPath = { path: function (n) { return n.attr("path") }, circle: function (n) { var t = n.attrs; return nr(t.cx, t.cy, t.r) }, ellipse: function (n) { var t = n.attrs; return nr(t.cx, t.cy, t.rx, t.ry) }, rect: function (n) { var t = n.attrs; return dt(t.x, t.y, t.width, t.height, t.r) }, image: function (n) { var t = n.attrs; return dt(t.x, t.y, t.width, t.height) }, text: function (n) { var t = n._getBBox(); return dt(t.x, t.y, t.width, t.height) }, set: function (n) { var t = n._getBBox(); return dt(t.x, t.y, t.width, t.height) } }, ai = i.mapPath = function (n, t) { if (!t) return n; var f, e, u, i, o, s, r; for (n = at(n), u = 0, o = n.length; o > u; u++) for (r = n[u], i = 1, s = r.length; s > i; i += 2) f = t.x(r[i], r[i + 1]), e = t.y(r[i], r[i + 1]), r[i] = f, r[i + 1] = e; return n }; if (i._g = r, i.type = r.win.SVGAngle || r.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure", "1.1") ? "SVG" : "VML", "VML" == i.type) { if (ti = r.doc.createElement("div"), ti.innerHTML = '<v:shape adj="1"/>', ni = ti.firstChild, ni.style.behavior = "url(#default#VML)", !ni || "object" != typeof ni.adj) return i.type = b; ti = null } i.svg = !(i.vml = "VML" == i.type); i._Paper = bi; i.fn = s = bi.prototype = i.prototype; i._id = 0; i._oid = 0; i.is = function (n, t) { return t = bt.call(t), "finite" == t ? !pr[c](+n) : "array" == t ? n instanceof Array : "null" == t && null === n || t == typeof n && null !== n || "object" == t && n === Object(n) || "array" == t && Array.isArray && Array.isArray(n) || vr.call(n).slice(8, -1).toLowerCase() == t }; i.angle = function (n, t, r, f, e, o) { if (null == e) { var s = n - r, h = t - f; return s || h ? (180 + 180 * u.atan2(-h, -s) / p + 360) % 360 : 0 } return i.angle(n, t, e, o) - i.angle(r, f, e, o) }; i.rad = function (n) { return n % 360 * p / 180 }; i.deg = function (n) { return 180 * n / p % 360 }; i.snapTo = function (n, t, r) { var f, u; if (r = i.is(r, "finite") ? r : 10, i.is(n, d)) { for (f = n.length; f--;) if (a(n[f] - t) <= r) return n[f] } else { if (n = +n, u = t % n, r > u) return t - u; if (u > n - r) return t - u + n } return t }; i.createUUID = function (n, t) { return function () { return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(n, t).toUpperCase() } }(/[xy]/g, function (n) { var t = 16 * u.random() | 0, i = "x" == n ? t : 3 & t | 8; return i.toString(16) }); i.setWindow = function (n) { t("raphael.setWindow", i, r.win, n); r.win = n; r.doc = r.win.document; i._engine.initWin && i._engine.initWin(r.win) }; var ii = function (n) { var u, e, f, o, t; if (i.vml) { e = /^\s+|\s+$/g; try { f = new ActiveXObject("htmlfile"); f.write("<body>"); f.close(); u = f.body } catch (s) { u = createPopup().document.body } o = u.createTextRange(); ii = nt(function (n) { try { u.style.color = y(n).replace(e, b); var t = o.queryCommandValue("ForeColor"); return t = (255 & t) << 16 | 65280 & t | (16711680 & t) >>> 16, "#" + ("000000" + t.toString(16)).slice(-6) } catch (i) { return "none" } }) } else t = r.doc.createElement("i"), t.title = "Raphaël Colour Picker", t.style.display = "none", r.doc.body.appendChild(t), ii = nt(function (n) { return t.style.color = n, r.doc.defaultView.getComputedStyle(t, b).getPropertyValue("color") }); return ii(n) }, uu = function () { return "hsb(" + [this.h, this.s, this.b] + ")" }, fu = function () { return "hsl(" + [this.h, this.s, this.l] + ")" }, tr = function () { return this.hex }, ir = function (n, t, r) { if (null == t && i.is(n, "object") && "r" in n && "g" in n && "b" in n && (r = n.b, t = n.g, n = n.r), null == t && i.is(n, kt)) { var u = i.getRGB(n); n = u.r; t = u.g; r = u.b } return (n > 1 || t > 1 || r > 1) && (n /= 255, t /= 255, r /= 255), [n, t, r] }, rr = function (n, t, r, u) { n *= 255; t *= 255; r *= 255; var f = { r: n, g: t, b: r, hex: i.rgb(n, t, r), toString: tr }; return i.is(u, "finite") && (f.opacity = u), f }; i.color = function (n) { var t; return i.is(n, "object") && "h" in n && "s" in n && "b" in n ? (t = i.hsb2rgb(n), n.r = t.r, n.g = t.g, n.b = t.b, n.hex = t.hex) : i.is(n, "object") && "h" in n && "s" in n && "l" in n ? (t = i.hsl2rgb(n), n.r = t.r, n.g = t.g, n.b = t.b, n.hex = t.hex) : (i.is(n, "string") && (n = i.getRGB(n)), i.is(n, "object") && "r" in n && "g" in n && "b" in n ? (t = i.rgb2hsl(n), n.h = t.h, n.s = t.s, n.l = t.l, t = i.rgb2hsb(n), n.v = t.b) : (n = { hex: "none" }, n.r = n.g = n.b = n.h = n.s = n.v = n.l = -1)), n.toString = tr, n }; i.hsb2rgb = function (n, t, i, r) { this.is(n, "object") && "h" in n && "s" in n && "b" in n && (i = n.b, t = n.s, n = n.h, r = n.o); n *= 360; var e, o, s, f, u; return n = n % 360 / 60, u = i * t, f = u * (1 - a(n % 2 - 1)), e = o = s = i - u, n = ~~n, e += [u, f, 0, 0, f, u][n], o += [f, u, u, f, 0, 0][n], s += [0, 0, f, u, u, f][n], rr(e, o, s, r) }; i.hsl2rgb = function (n, t, i, r) { this.is(n, "object") && "h" in n && "s" in n && "l" in n && (i = n.l, t = n.s, n = n.h); (n > 1 || t > 1 || i > 1) && (n /= 360, t /= 100, i /= 100); n *= 360; var e, o, s, f, u; return n = n % 360 / 60, u = 2 * t * (.5 > i ? i : 1 - i), f = u * (1 - a(n % 2 - 1)), e = o = s = i - u / 2, n = ~~n, e += [u, f, 0, 0, f, u][n], o += [f, u, u, f, 0, 0][n], s += [0, 0, f, u, u, f][n], rr(e, o, s, r) }; i.rgb2hsb = function (n, t, i) { i = ir(n, t, i); n = i[0]; t = i[1]; i = i[2]; var e, o, u, r; return u = f(n, t, i), r = u - h(n, t, i), e = 0 == r ? null : u == n ? (t - i) / r : u == t ? (i - n) / r + 2 : (n - t) / r + 4, e = (e + 360) % 6 / 6, o = 0 == r ? 0 : r / u, { h: e, s: o, b: u, toString: uu } }; i.rgb2hsl = function (n, t, i) { i = ir(n, t, i); n = i[0]; t = i[1]; i = i[2]; var o, c, u, e, s, r; return e = f(n, t, i), s = h(n, t, i), r = e - s, o = 0 == r ? null : e == n ? (t - i) / r : e == t ? (i - n) / r + 2 : (n - t) / r + 4, o = (o + 360) % 6 / 6, u = (e + s) / 2, c = 0 == r ? 0 : .5 > u ? r / (2 * u) : r / (2 - 2 * u), { h: o, s: c, l: u, toString: fu } }; i._path2string = function () { return this.join(",").replace(dr, "$1") }; i._preload = function (n, t) { var i = r.doc.createElement("img"); i.style.cssText = "position:absolute;left:-9999em;top:-9999em"; i.onload = function () { t.call(this); this.onload = null; r.doc.body.removeChild(this) }; i.onerror = function () { r.doc.body.removeChild(this) }; r.doc.body.appendChild(i); i.src = n }; i.getRGB = nt(function (n) { if (!n || (n = y(n)).indexOf("-") + 1) return { r: -1, g: -1, b: -1, hex: "none", error: 1, toString: yt }; if ("none" == n) return { r: -1, g: -1, b: -1, hex: "none", toString: yt }; kr[c](n.toLowerCase().substring(0, 2)) || "#" == n.charAt() || (n = ii(n)); var u, f, e, s, h, t, r = n.match(yr); return r ? (r[2] && (e = et(r[2].substring(5), 16), f = et(r[2].substring(3, 5), 16), u = et(r[2].substring(1, 3), 16)), r[3] && (e = et((h = r[3].charAt(3)) + h, 16), f = et((h = r[3].charAt(2)) + h, 16), u = et((h = r[3].charAt(1)) + h, 16)), r[4] && (t = r[4][tt](li), u = o(t[0]), "%" == t[0].slice(-1) && (u *= 2.55), f = o(t[1]), "%" == t[1].slice(-1) && (f *= 2.55), e = o(t[2]), "%" == t[2].slice(-1) && (e *= 2.55), "rgba" == r[1].toLowerCase().slice(0, 4) && (s = o(t[3])), t[3] && "%" == t[3].slice(-1) && (s /= 100)), r[5] ? (t = r[5][tt](li), u = o(t[0]), "%" == t[0].slice(-1) && (u *= 2.55), f = o(t[1]), "%" == t[1].slice(-1) && (f *= 2.55), e = o(t[2]), "%" == t[2].slice(-1) && (e *= 2.55), ("deg" == t[0].slice(-3) || "°" == t[0].slice(-1)) && (u /= 360), "hsba" == r[1].toLowerCase().slice(0, 4) && (s = o(t[3])), t[3] && "%" == t[3].slice(-1) && (s /= 100), i.hsb2rgb(u, f, e, s)) : r[6] ? (t = r[6][tt](li), u = o(t[0]), "%" == t[0].slice(-1) && (u *= 2.55), f = o(t[1]), "%" == t[1].slice(-1) && (f *= 2.55), e = o(t[2]), "%" == t[2].slice(-1) && (e *= 2.55), ("deg" == t[0].slice(-3) || "°" == t[0].slice(-1)) && (u /= 360), "hsla" == r[1].toLowerCase().slice(0, 4) && (s = o(t[3])), t[3] && "%" == t[3].slice(-1) && (s /= 100), i.hsl2rgb(u, f, e, s)) : (r = { r: u, g: f, b: e, toString: yt }, r.hex = "#" + (16777216 | e | f << 8 | u << 16).toString(16).slice(1), i.is(s, "finite") && (r.opacity = s), r)) : { r: -1, g: -1, b: -1, hex: "none", error: 1, toString: yt } }, i); i.hsb = nt(function (n, t, r) { return i.hsb2rgb(n, t, r).hex }); i.hsl = nt(function (n, t, r) { return i.hsl2rgb(n, t, r).hex }); i.rgb = nt(function (n, t, i) { return "#" + (16777216 | i | t << 8 | n << 16).toString(16).slice(1) }); i.getColor = function (n) { var t = this.getColor.start = this.getColor.start || { h: 0, s: 1, b: n || .75 }, i = this.hsb2rgb(t.h, t.s, t.b); return t.h += .075, t.h > 1 && (t.h = 0, t.s -= .2, t.s <= 0 && (this.getColor.start = { h: 0, s: 1, b: t.b })), i.hex }; i.getColor.reset = function () { delete this.start }; i.parsePathString = function (n) { var r, u, t; return n ? (r = ut(n), r.arr) ? g(r.arr) : (u = { a: 7, c: 6, h: 1, l: 2, m: 2, r: 4, q: 4, s: 4, t: 2, v: 1, z: 0 }, t = [], i.is(n, d) && i.is(n[0], d) && (t = g(n)), t.length || y(n).replace(gr, function (n, i, r) { var f = [], o = i.toLowerCase(); if (r.replace(gi, function (n, t) { t && f.push(+t) }), "m" == o && f.length > 2 && (t.push([i][e](f.splice(0, 2))), o = "l", i = "m" == i ? "l" : "L"), "r" == o) t.push([i][e](f)); else for (; f.length >= u[o] && (t.push([i][e](f.splice(0, u[o]))), u[o]) ;); }), t.toString = i._path2string, r.arr = g(t), t) : null }; i.parseTransformString = nt(function (n) { if (!n) return null; var t = []; return i.is(n, d) && i.is(n[0], d) && (t = g(n)), t.length || y(n).replace(nu, function (n, i, r) { var u = []; bt.call(i); r.replace(gi, function (n, t) { t && u.push(+t) }); t.push([i][e](u)) }), t.toString = i._path2string, t }); ut = function (n) { var t = ut.ps = ut.ps || {}; return t[n] ? t[n].sleep = 100 : t[n] = { sleep: 100 }, setTimeout(function () { for (var i in t) t[c](i) && i != n && (t[i].sleep--, !t[i].sleep && delete t[i]) }), t[n] }; i.findDotsAtSegment = function (n, t, i, r, f, e, o, s, h) { var c = 1 - h, b = k(c, 3), d = k(c, 2), l = h * h, g = l * h, tt = b * n + 3 * d * h * i + 3 * c * h * h * f + g * o, it = b * t + 3 * d * h * r + 3 * c * h * h * e + g * s, a = n + 2 * h * (i - n) + l * (f - 2 * i + n), v = t + 2 * h * (r - t) + l * (e - 2 * r + t), y = i + 2 * h * (f - i) + l * (o - 2 * f + i), w = r + 2 * h * (e - r) + l * (s - 2 * e + r), rt = c * n + h * i, ut = c * t + h * r, ft = c * f + h * o, et = c * e + h * s, nt = 90 - 180 * u.atan2(a - y, v - w) / p; return (a > y || w > v) && (nt += 180), { x: tt, y: it, m: { x: a, y: v }, n: { x: y, y: w }, start: { x: rt, y: ut }, end: { x: ft, y: et }, alpha: nt } }; i.bezierBBox = function (n, t, r, u, f, e, o, s) { i.is(n, "array") || (n = [n, t, r, u, f, e, o, s]); var h = or.apply(null, n); return { x: h.min.x, y: h.min.y, x2: h.max.x, y2: h.max.y, width: h.max.x - h.min.x, height: h.max.y - h.min.y } }; i.isPointInsideBBox = function (n, t, i) { return t >= n.x && t <= n.x2 && i >= n.y && i <= n.y2 }; i.isBBoxIntersect = function (n, t) { var r = i.isPointInsideBBox; return r(t, n.x, n.y) || r(t, n.x2, n.y) || r(t, n.x, n.y2) || r(t, n.x2, n.y2) || r(n, t.x, t.y) || r(n, t.x2, t.y) || r(n, t.x, t.y2) || r(n, t.x2, t.y2) || (n.x < t.x2 && n.x > t.x || t.x < n.x2 && t.x > n.x) && (n.y < t.y2 && n.y > t.y || t.y < n.y2 && t.y > n.y) }; i.pathIntersection = function (n, t) { return fi(n, t) }; i.pathIntersectionNumber = function (n, t) { return fi(n, t, 1) }; i.isPointInsidePath = function (n, t, r) { var u = i.pathBBox(n); return i.isPointInsideBBox(u, t, r) && fi(n, [["M", t, r], ["H", u.x2 + 10]], 1) % 2 == 1 }; i._removedFactory = function (n) { return function () { t("raphael.log", null, "Raphaël: you are calling to method “" + n + "” of removed object", n) } }; var vi = i.pathBBox = function (n) { var c = ut(n), u; if (c.bbox) return vt(c.bbox); if (!n) return { x: 0, y: 0, width: 0, height: 0, x2: 0, y2: 0 }; n = at(n); for (var t, o = 0, s = 0, i = [], r = [], a = 0, g = n.length; g > a; a++) (t = n[a], "M" == t[0]) ? (o = t[1], s = t[2], i.push(o), r.push(s)) : (u = or(o, s, t[1], t[2], t[3], t[4], t[5], t[6]), i = i[e](u.min.x, u.max.x), r = r[e](u.min.y, u.max.y), o = t[5], s = t[6]); var v = h[l](0, i), y = h[l](0, r), p = f[l](0, i), w = f[l](0, r), b = p - v, k = w - y, d = { x: v, y: y, x2: p, y2: w, width: b, height: k, cx: v + b / 2, cy: y + k / 2 }; return c.bbox = vt(d), d }, g = function (n) { var t = vt(n); return t.toString = i._path2string, t }, eu = i._pathToRelative = function (n) { var v = ut(n), u, p, f, t, s, w, h, b, c; if (v.rel) return g(v.rel); i.is(n, d) && i.is(n && n[0], d) || (n = i.parsePathString(n)); var r = [], o = 0, e = 0, l = 0, a = 0, y = 0; for ("M" == n[0][0] && (o = n[0][1], e = n[0][2], l = o, a = e, y++, r.push(["M", o, e])), u = y, p = n.length; p > u; u++) { if (f = r[u] = [], t = n[u], t[0] != bt.call(t[0])) switch (f[0] = bt.call(t[0]), f[0]) { case "a": f[1] = t[1]; f[2] = t[2]; f[3] = t[3]; f[4] = t[4]; f[5] = t[5]; f[6] = +(t[6] - o).toFixed(3); f[7] = +(t[7] - e).toFixed(3); break; case "v": f[1] = +(t[1] - e).toFixed(3); break; case "m": l = t[1]; a = t[2]; default: for (s = 1, w = t.length; w > s; s++) f[s] = +(t[s] - (s % 2 ? o : e)).toFixed(3) } else for (f = r[u] = [], "m" == t[0] && (l = t[1] + o, a = t[2] + e), h = 0, b = t.length; b > h; h++) r[u][h] = t[h]; c = r[u].length; switch (r[u][0]) { case "z": o = l; e = a; break; case "h": o += +r[u][c - 1]; break; case "v": e += +r[u][c - 1]; break; default: o += +r[u][c - 2]; e += +r[u][c - 1] } } return r.toString = i._path2string, v.rel = g(r), r }, ur = i._pathToAbsolute = function (n) { var v = ut(n), c, k; if (v.abs) return g(v.abs); if (i.is(n, d) && i.is(n && n[0], d) || (n = i.parsePathString(n)), !n || !n.length) return [["M", 0, 0]]; var s = [], u = 0, f = 0, l = 0, a = 0, w = 0; "M" == n[0][0] && (u = +n[0][1], f = +n[0][2], l = u, a = f, w++, s[0] = ["M", u, f]); for (var t, r, b = 3 == n.length && "M" == n[0][0] && "R" == n[1][0].toUpperCase() && "Z" == n[2][0].toUpperCase(), y = w, nt = n.length; nt > y; y++) { if (s.push(t = []), r = n[y], r[0] != di.call(r[0])) switch (t[0] = di.call(r[0]), t[0]) { case "A": t[1] = r[1]; t[2] = r[2]; t[3] = r[3]; t[4] = r[4]; t[5] = r[5]; t[6] = +(r[6] + u); t[7] = +(r[7] + f); break; case "V": t[1] = +r[1] + f; break; case "H": t[1] = +r[1] + u; break; case "R": for (var h = [u, f][e](r.slice(1)), o = 2, p = h.length; p > o; o++) h[o] = +h[o] + u, h[++o] = +h[o] + f; s.pop(); s = s[e](yi(h, b)); break; case "M": l = +r[1] + u; a = +r[2] + f; default: for (o = 1, p = r.length; p > o; o++) t[o] = +r[o] + (o % 2 ? u : f) } else if ("R" == r[0]) h = [u, f][e](r.slice(1)), s.pop(), s = s[e](yi(h, b)), t = ["R"][e](r.slice(-2)); else for (c = 0, k = r.length; k > c; c++) t[c] = r[c]; switch (t[0]) { case "Z": u = l; f = a; break; case "H": u = t[1]; break; case "V": f = t[1]; break; case "M": l = t[t.length - 2]; a = t[t.length - 1]; default: u = t[t.length - 2]; f = t[t.length - 1] } } return s.toString = i._path2string, v.abs = g(s), s }, ri = function (n, t, i, r) { return [n, t, i, r, i, r] }, fr = function (n, t, i, r, u, f) { var e = 1 / 3, o = 2 / 3; return [e * n + o * i, e * t + o * r, e * u + o * i, e * f + o * r, u, f] }, er = function (n, t, i, r, f, o, s, h, c, l) { var g, lt = 120 * p / 180, et = p / 180 * (+f || 0), w = [], ot = nt(function (n, t, i) { var r = n * u.cos(i) - t * u.sin(i), f = n * u.sin(i) + t * u.cos(i); return { x: r, y: f } }), st; if (l) y = l[0], v = l[1], ut = l[2], ft = l[3]; else { g = ot(n, t, -et); n = g.x; t = g.y; g = ot(h, c, -et); h = g.x; c = g.y; var k = (u.cos(p / 180 * f), u.sin(p / 180 * f), (n - h) / 2), d = (t - c) / 2, rt = k * k / (i * i) + d * d / (r * r); rt > 1 && (rt = u.sqrt(rt), i = rt * i, r = rt * r); var ht = i * i, ct = r * r, at = (o == s ? -1 : 1) * u.sqrt(a((ht * ct - ht * d * d - ct * k * k) / (ht * d * d + ct * k * k))), ut = at * i * d / r + (n + h) / 2, ft = at * -r * k / i + (t + c) / 2, y = u.asin(((t - ft) / r).toFixed(9)), v = u.asin(((c - ft) / r).toFixed(9)); y = ut > n ? p - y : y; v = ut > h ? p - v : v; 0 > y && (y = 2 * p + y); 0 > v && (v = 2 * p + v); s && y > v && (y -= 2 * p); !s && v > y && (v -= 2 * p) } if (st = v - y, a(st) > lt) { var gt = v, ni = h, ti = c; v = y + lt * (s && v > y ? 1 : -1); h = ut + i * u.cos(v); c = ft + r * u.sin(v); w = er(h, c, i, r, f, 0, s, ni, ti, [v, gt, ut, ft]) } st = v - y; var ii = u.cos(y), ri = u.sin(y), ui = u.cos(v), fi = u.sin(v), vt = u.tan(st / 4), yt = 4 / 3 * i * vt, pt = 4 / 3 * r * vt, wt = [n, t], it = [n + yt * ri, t - pt * ii], bt = [h + yt * fi, c - pt * ui], kt = [h, c]; if (it[0] = 2 * wt[0] - it[0], it[1] = 2 * wt[1] - it[1], l) return [it, bt, kt][e](w); w = [it, bt, kt][e](w).join()[tt](","); for (var dt = [], b = 0, ei = w.length; ei > b; b++) dt[b] = b % 2 ? ot(w[b - 1], w[b], et).y : ot(w[b], w[b + 1], et).x; return dt }, ui = function (n, t, i, r, u, f, e, o, s) { var h = 1 - s; return { x: k(h, 3) * n + 3 * k(h, 2) * s * i + 3 * h * s * s * u + k(s, 3) * e, y: k(h, 3) * t + 3 * k(h, 2) * s * r + 3 * h * s * s * f + k(s, 3) * o } }, or = nt(function (n, t, i, r, e, o, s, c) { var y, b = e - 2 * i + n - (s - 2 * e + i), v = 2 * (i - n) - 2 * (e - i), g = n - i, p = (-v + u.sqrt(v * v - 4 * b * g)) / 2 / b, w = (-v - u.sqrt(v * v - 4 * b * g)) / 2 / b, k = [t, c], d = [n, s]; return a(p) > "1e12" && (p = .5), a(w) > "1e12" && (w = .5), p > 0 && 1 > p && (y = ui(n, t, i, r, e, o, s, c, p), d.push(y.x), k.push(y.y)), w > 0 && 1 > w && (y = ui(n, t, i, r, e, o, s, c, w), d.push(y.x), k.push(y.y)), b = o - 2 * r + t - (c - 2 * o + r), v = 2 * (r - t) - 2 * (o - r), g = t - r, p = (-v + u.sqrt(v * v - 4 * b * g)) / 2 / b, w = (-v - u.sqrt(v * v - 4 * b * g)) / 2 / b, a(p) > "1e12" && (p = .5), a(w) > "1e12" && (w = .5), p > 0 && 1 > p && (y = ui(n, t, i, r, e, o, s, c, p), d.push(y.x), k.push(y.y)), w > 0 && 1 > w && (y = ui(n, t, i, r, e, o, s, c, w), d.push(y.x), k.push(y.y)), { min: { x: h[l](0, d), y: h[l](0, k) }, max: { x: f[l](0, d), y: f[l](0, k) } } }), at = i._path2curve = nt(function (n, t) { var i = !t && ut(n), ui, ti, hr, bt, ii, yt, li; if (!t && i.curve) return g(i.curve); for (var yr = ur(n), uu = t && ur(t), dt = { x: 0, y: 0, bx: 0, by: 0, X: 0, Y: 0, qx: null, qy: null }, ir = (function (n, t, i) { var u, r, s = { T: 1, Q: 1 }; if (!n) return ["C", t.x, t.y, t.x, t.y, t.x, t.y]; switch (!(n[0] in s)) { default: t.qx = t.qy = null; n[0]; t.X = n[1]; t.Y = n[2] } st = function (n, t) { if (n[t].length > 7) { n[t].shift(); for (var i = n[t]; i.length;) n.splice(t++, 0, ["C"][e](i.splice(0, 6))); n.splice(t, 1); ht = f(u.length, r && r.length || 0) } }; it = function (n, t, i, e, o) { n && t && "M" == n[o][0] && "M" != t[o][0] && (t.splice(o, 0, ["M", e.x, e.y]), i.bx = 0, i.by = 0, i.x = n[o][1], i.y = n[o][2], ht = f(u.length, r && r.length || 0)) }; w = 0; ht = f(u.length, r && r.length || 0); ht > w; w++; u[w] = ir(u[w], s); st(u, w); r && (r[w] = ir(r[w], dt)); r && st(r, w); it(u, r, s, dt, w); it(r, u, dt, s, w); var h = u[w], c = r && r[w], a = h.length, v = r && c.length; return s.x = h[a - 2], s.y = h[a - 1], s.bx = o(h[a - 4]) || s.x, s.by = o(h[a - 3]) || s.y, dt.bx = r && (o(c[v - 4]) || dt.x), dt.by = r && (o(c[v - 3]) || dt.y), dt.x = r && c[v - 2], dt.y = r && c[v - 1], r || (i.curve = g(u)), r ? [u, r] : u }, g), fi = (i._parseDots = { x: 0, y: 0, bx: 0, by: 0, X: 0, Y: 0, qx: null, qy: null }(function (n) { for (var u, h, l, r = [], t = 0, s = n.length; s > t; t++) { if (u = {}, h = n[t].match(/^([^:]*):?([\d\.]*)/), u.color = i.getRGB(h[1]), u.color.error) return null; u.color = u.color.hex; h[2] && (u.offset = h[2] + "%"); r.push(u) } for (t = 1, s = r.length - 1; s > t; t++) if (!r[t].offset) { for (var c = o(r[t - 1].offset || 0), e = 0, f = t + 1; s > f; f++) if (r[f].offset) { e = r[f].offset; break } for (e || (e = 100, f = s), e = o(e), l = (e - c) / (f - t + 1) ; f > t; t++) c += l, r[t].offset = c + "%" } return r }), i._tear = function (n, t) { n == t.top && (t.top = n.prev); n == t.bottom && (t.bottom = n.next); n.next && (n.next.prev = n.prev); n.prev && (n.prev.next = n.next) }), pr = (i._tofront = function (n, t) { t.top !== n && (fi(n, t), n.next = null, n.prev = t.top, t.top.next = n, t.top = n) }, i._toback = function (n, t) { t.bottom !== n && (fi(n, t), n.next = t.bottom, n.prev = null, t.bottom.prev = n, t.bottom = n) }, i._insertafter = function (n, t, i) { fi(n, i); t == i.top && (i.top = n); t.next && (t.next.prev = n); n.next = t.next; n.prev = t; t.next = n }, i._insertbefore = function (n, t, i) { fi(n, i); t == i.bottom && (i.bottom = n); t.prev && (t.prev.next = n); n.prev = t.prev; t.prev = n; n.next = t }, i.toMatrix = function (n, t) { var r = vi(n), i = { _: { transform: b }, getBBox: function () { return r } }; return wr(i, t), i.matrix }), wr = (i.transformPath = function (n, t) { return ai(n, pr(n, t)) }, i._extractTransform = function (n, t) { var k, tt; if (null == t) return n._.transform; t = y(t).replace(/\.{3}|\u2026/g, n._.transform || b); var a = i.parseTransformString(t), v = 0, g = 0, nt = 0, p = 1, w = 1, e = n._, u = new ft; if (e.transform = a || [], a) for (k = 0, tt = a.length; tt > k; k++) { var it, rt, h, c, f, r = a[k], o = r.length, l = y(r[0]).toLowerCase(), d = r[0] != l, s = d ? u.invert() : 0; "t" == l && 3 == o ? d ? (it = s.x(0, 0), rt = s.y(0, 0), h = s.x(r[1], r[2]), c = s.y(r[1], r[2]), u.translate(h - it, c - rt)) : u.translate(r[1], r[2]) : "r" == l ? 2 == o ? (f = f || n.getBBox(1), u.rotate(r[1], f.x + f.width / 2, f.y + f.height / 2), v += r[1]) : 4 == o && (d ? (h = s.x(r[2], r[3]), c = s.y(r[2], r[3]), u.rotate(r[1], h, c)) : u.rotate(r[1], r[2], r[3]), v += r[1]) : "s" == l ? 2 == o || 3 == o ? (f = f || n.getBBox(1), u.scale(r[1], r[o - 1], f.x + f.width / 2, f.y + f.height / 2), p *= r[1], w *= r[o - 1]) : 5 == o && (d ? (h = s.x(r[3], r[4]), c = s.y(r[3], r[4]), u.scale(r[1], r[2], h, c)) : u.scale(r[1], r[2], r[3], r[4]), p *= r[1], w *= r[2]) : "m" == l && 7 == o && u.add(r[1], r[2], r[3], r[4], r[5], r[6]); e.dirtyT = 1; n.matrix = u } n.matrix = u; e.sx = p; e.sy = w; e.deg = v; e.dx = g = u.e; e.dy = nt = u.f; 1 == p && 1 == w && !v && e.bbox ? (e.bbox.x += +g, e.bbox.y += +nt) : e.dirtyT = 1 }), rr = function (n) { var t = n[0]; switch (t.toLowerCase()) { case "t": return [t, 0, 0]; case "m": return [t, 1, 0, 0, 1, 0, 0]; case "r": return 4 == n.length ? [t, 0, n[2], n[3]] : [t, 0]; case "s": return 5 == n.length ? [t, 1, 1, n[3], n[4]] : 3 == n.length ? [t, 1, 1] : [t, 1] } }, fu = i._equaliseTransform = function (n, t) { t = y(t).replace(/\.{3}|\u2026/g, n); n = i.parseTransformString(n) || []; t = i.parseTransformString(t) || []; for (var u, c, r, e, l = f(n.length, t.length), s = [], h = [], o = 0; l > o; o++) { if (r = n[o] || rr(t[o]), e = t[o] || rr(r), r[0] != e[0] || "r" == r[0].toLowerCase() && (r[2] != e[2] || r[3] != e[3]) || "s" == r[0].toLowerCase() && (r[3] != e[3] || r[4] != e[4])) return; for (s[o] = [], h[o] = [], u = 0, c = f(r.length, e.length) ; c > u; u++) u in r && (s[o][u] = r[u]), u in e && (h[o][u] = e[u]) } return { from: s, to: h } }; i._getContainer = function (n, t, u, f) { var e; return e = null != f || i.is(n, "object") ? n : r.doc.getElementById(n), null != e ? e.tagName ? null == t ? { container: e, width: e.style.pixelWidth || e.offsetWidth, height: e.style.pixelHeight || e.offsetHeight } : { container: e, width: t, height: u } : { container: 1, x: n, y: t, width: u, height: f } : void 0 }, i.pathToRelative = eu, i._engine = {}, i.path2curve = at, i.matrix = function (n, t, i, r, u, f) { return new ft(n, t, i, r, u, f) }, function (n) { function t(n) { return n[0] * n[0] + n[1] * n[1] } function r(n) { var i = u.sqrt(t(n)); n[0] && (n[0] /= i); n[1] && (n[1] /= i) } n.add = function (n, t, i, r, u, f) { var o, s, h, c, e = [[], [], []], a = [[this.a, this.c, this.e], [this.b, this.d, this.f], [0, 0, 1]], l = [[n, i, u], [t, r, f], [0, 0, 1]]; for (n && n instanceof ft && (l = [[n.a, n.c, n.e], [n.b, n.d, n.f], [0, 0, 1]]), o = 0; 3 > o; o++) for (s = 0; 3 > s; s++) { for (c = 0, h = 0; 3 > h; h++) c += a[o][h] * l[h][s]; e[o][s] = c } this.a = e[0][0]; this.b = e[1][0]; this.c = e[0][1]; this.d = e[1][1]; this.e = e[0][2]; this.f = e[1][2] }; n.invert = function () { var n = this, t = n.a * n.d - n.b * n.c; return new ft(n.d / t, -n.b / t, -n.c / t, n.a / t, (n.c * n.f - n.d * n.e) / t, (n.b * n.e - n.a * n.f) / t) }; n.clone = function () { return new ft(this.a, this.b, this.c, this.d, this.e, this.f) }; n.translate = function (n, t) { this.add(1, 0, 0, 1, n, t) }; n.scale = function (n, t, i, r) { null == t && (t = n); (i || r) && this.add(1, 0, 0, 1, i, r); this.add(n, 0, 0, t, 0, 0); (i || r) && this.add(1, 0, 0, 1, -i, -r) }; n.rotate = function (n, t, r) { n = i.rad(n); t = t || 0; r = r || 0; var f = +u.cos(n).toFixed(9), e = +u.sin(n).toFixed(9); this.add(f, e, -e, f, t, r); this.add(1, 0, 0, 1, -t, -r) }; n.x = function (n, t) { return n * this.a + t * this.c + this.e }; n.y = function (n, t) { return n * this.b + t * this.d + this.f }; n.get = function (n) { return +this[y.fromCharCode(97 + n)].toFixed(4) }; n.toString = function () { return i.svg ? "matrix(" + [this.get(0), this.get(1), this.get(2), this.get(3), this.get(4), this.get(5)].join() + ")" : [this.get(0), this.get(2), this.get(1), this.get(3), 0, 0].join() }; n.toFilter = function () { return "progid:DXImageTransform.Microsoft.Matrix(M11=" + this.get(0) + ", M12=" + this.get(2) + ", M21=" + this.get(1) + ", M22=" + this.get(3) + ", Dx=" + this.get(4) + ", Dy=" + this.get(5) + ", sizingmethod='auto expand')" }; n.offset = function () { return [this.e.toFixed(4), this.f.toFixed(4)] }; n.split = function () { var n = {}, f, e, o; return n.dx = this.e, n.dy = this.f, f = [[this.a, this.c], [this.b, this.d]], n.scalex = u.sqrt(t(f[0])), r(f[0]), n.shear = f[0][0] * f[1][0] + f[0][1] * f[1][1], f[1] = [f[1][0] - f[0][0] * n.shear, f[1][1] - f[0][1] * n.shear], n.scaley = u.sqrt(t(f[1])), r(f[1]), n.shear /= n.scaley, e = -f[0][1], o = f[1][1], 0 > o ? (n.rotate = i.deg(u.acos(o)), 0 > e && (n.rotate = 360 - n.rotate)) : n.rotate = i.deg(u.asin(e)), n.isSimple = !(+n.shear.toFixed(9) || n.scalex.toFixed(9) != n.scaley.toFixed(9) && n.rotate), n.isSuperSimple = !+n.shear.toFixed(9) && n.scalex.toFixed(9) == n.scaley.toFixed(9) && !n.rotate, n.noRotation = !+n.shear.toFixed(9) && !n.rotate, n }; n.toTransformString = function (n) { var t = n || this[tt](); return t.isSimple ? (t.scalex = +t.scalex.toFixed(4), t.scaley = +t.scaley.toFixed(4), t.rotate = +t.rotate.toFixed(4), (t.dx || t.dy ? "t" + [t.dx, t.dy] : b) + (1 != t.scalex || 1 != t.scaley ? "s" + [t.scalex, t.scaley, 0, 0] : b) + (t.rotate ? "r" + [t.rotate, 0, 0] : b)) : "m" + [this.get(0), this.get(1), this.get(2), this.get(3), this.get(4), this.get(5)] } }(ft.prototype) ;) ui = navigator.userAgent.match(/Version\/(.*?)\s/) || navigator.userAgent.match(/Chrome\/(\d+)/); s.safari = "Apple Computer, Inc." == navigator.vendor && (ui && ui[1] < 4 || "iP" == navigator.platform.slice(0, 2)) || "Google Inc." == navigator.vendor && ui && ui[1] < 8 ? function () { var n = this.rect(-99, -99, this.width + 99, this.height + 99).attr({ stroke: "none" }); setTimeout(function () { n.remove() }) } : iu; for (var br = function () { this.returnValue = !1 }, kr = function () { return this.originalEvent.preventDefault() }, dr = function () { this.cancelBubble = !0 }, gr = function () { return this.originalEvent.stopPropagation() }, or = function (n) { var t = r.doc.documentElement.scrollTop || r.doc.body.scrollTop, i = r.doc.documentElement.scrollLeft || r.doc.body.scrollLeft; return { x: n.clientX + i, y: n.clientY + t } }, nu = function () { return r.doc.addEventListener ? function (n, t, i, r) { var u = function (n) { var t = or(n); return i.call(r, n, t.x, t.y) }, f; return (n.addEventListener(t, u, !1), pt && wt[t]) && (f = function (t) { for (var f = or(t), e = t, u = 0, o = t.targetTouches && t.targetTouches.length; o > u; u++) if (t.targetTouches[u].target == n) { t = t.targetTouches[u]; t.originalEvent = e; t.preventDefault = kr; t.stopPropagation = gr; break } return i.call(r, t, f.x, f.y) }, n.addEventListener(wt[t], f, !1)), function () { return n.removeEventListener(t, u, !1), pt && wt[t] && n.removeEventListener(wt[t], u, !1), !0 } } : r.doc.attachEvent ? function (n, t, i, u) { var f = function (n) { n = n || r.win.event; var t = r.doc.documentElement.scrollTop || r.doc.body.scrollTop, f = r.doc.documentElement.scrollLeft || r.doc.body.scrollLeft, e = n.clientX + f, o = n.clientY + t; return n.preventDefault = n.preventDefault || br, n.stopPropagation = n.stopPropagation || dr, i.call(u, n, e, o) }; return n.attachEvent("on" + t, f), function () { return n.detachEvent("on" + t, f), !0 } } : void 0 }(), ni = [], yi = function (n) { for (var o, s, i, f = n.clientX, e = n.clientY, v = r.doc.documentElement.scrollTop || r.doc.body.scrollTop, y = r.doc.documentElement.scrollLeft || r.doc.body.scrollLeft, l = ni.length; l--;) { if (i = ni[l], pt && n.touches) { for (s = n.touches.length; s--;) if (o = n.touches[s], o.identifier == i.el._drag.id) { f = o.clientX; e = o.clientY; (n.originalEvent ? n.originalEvent : n).preventDefault(); break } } else n.preventDefault(); var h, u = i.el.node, a = u.nextSibling, c = u.parentNode, p = u.style.display; r.win.opera && c.removeChild(u); u.style.display = "none"; h = i.el.paper.getElementByPoint(f, e); u.style.display = p; r.win.opera && (a ? c.insertBefore(u, a) : c.appendChild(u)); h && t("raphael.drag.over." + i.el.id, i.el, h); f += y; e += v; t("raphael.drag.move." + i.el.id, i.move_scope || i.el, f - i.el._drag.x, e - i.el._drag.y, f, e, n) } }, bi = function (n) { i.unmousemove(yi).unmouseup(bi); for (var r, u = ni.length; u--;) r = ni[u], r.el._drag = {}, t("raphael.drag.end." + r.el.id, r.end_scope || r.start_scope || r.move_scope || r.el, n); ni = [] }, nt = i.el = {}, sr = ki.length; sr--;) !function (n) { i[n] = nt[n] = function (t, u) { return i.is(t, "function") && (this.events = this.events || [], this.events.push({ name: n, f: t, unbind: nu(this.shape || this.node || r.doc, n, t, u || this) })), this }; i["un" + n] = nt["un" + n] = function (t) { for (var r = this.events || [], u = r.length; u--;) r[u].name == n && (i.is(t, "undefined") || r[u].f == t) && (r[u].unbind(), r.splice(u, 1), !r.length && delete this.events); return this } }(ki[sr]); nt.data = function (n, r) { var u = ot[this.id] = ot[this.id] || {}, f; if (0 == arguments.length) return u; if (1 == arguments.length) { if (i.is(n, "object")) { for (f in n) n[c](f) && this.data(f, n[f]); return this } return t("raphael.data.get." + this.id, this, u[n], n), u[n] } return u[n] = r, t("raphael.data.set." + this.id, this, r, n), this }; nt.removeData = function (n) { return null == n ? ot[this.id] = {} : ot[this.id] && delete ot[this.id][n], this }; nt.getData = function () { return yr(ot[this.id] || {}) }; nt.hover = function (n, t, i, r) { return this.mouseover(n, i).mouseout(t, r || i) }; nt.unhover = function (n, t) { return this.unmouseover(n).unmouseout(t) }; ti = []; nt.drag = function (n, u, f, e, o, s) { function h(h) { var c, l; (h.originalEvent || h).preventDefault(); var a = h.clientX, v = h.clientY, y = r.doc.documentElement.scrollTop || r.doc.body.scrollTop, p = r.doc.documentElement.scrollLeft || r.doc.body.scrollLeft; if (this._drag.id = h.identifier, pt && h.touches) for (l = h.touches.length; l--;) if (c = h.touches[l], this._drag.id = c.identifier, c.identifier == this._drag.id) { a = c.clientX; v = c.clientY; break } this._drag.x = a + p; this._drag.y = v + y; !ni.length && i.mousemove(yi).mouseup(bi); ni.push({ el: this, move_scope: e, start_scope: o, end_scope: s }); u && t.on("raphael.drag.start." + this.id, u); n && t.on("raphael.drag.move." + this.id, n); f && t.on("raphael.drag.end." + this.id, f); t("raphael.drag.start." + this.id, o || e || this, h.clientX + p, h.clientY + y, h) } return this._drag = {}, ti.push({ el: this, start: h }), this.mousedown(h), this }; nt.onDragOver = function (n) { n ? t.on("raphael.drag.over." + this.id, n) : t.unbind("raphael.drag.over." + this.id) }; nt.undrag = function () { for (var n = ti.length; n--;) ti[n].el == this && (this.unmousedown(ti[n].start), ti.splice(n, 1), t.unbind("raphael.drag.*." + this.id)); ti.length || i.unmousemove(yi).unmouseup(bi); ni = [] }; s.circle = function (n, t, r) { var u = i._engine.circle(this, n || 0, t || 0, r || 0); return this.__set__ && this.__set__.push(u), u }; s.rect = function (n, t, r, u, f) { var e = i._engine.rect(this, n || 0, t || 0, r || 0, u || 0, f || 0); return this.__set__ && this.__set__.push(e), e }; s.ellipse = function (n, t, r, u) { var f = i._engine.ellipse(this, n || 0, t || 0, r || 0, u || 0); return this.__set__ && this.__set__.push(f), f }; s.path = function (n) { !n || i.is(n, kt) || i.is(n[0], d) || (n += b); var t = i._engine.path(i.format[l](i, arguments), this); return this.__set__ && this.__set__.push(t), t }; s.image = function (n, t, r, u, f) { var e = i._engine.image(this, n || "about:blank", t || 0, r || 0, u || 0, f || 0); return this.__set__ && this.__set__.push(e), e }; s.text = function (n, t, r) { var u = i._engine.text(this, n || 0, t || 0, y(r)); return this.__set__ && this.__set__.push(u), u }; s.set = function (n) { i.is(n, "array") || (n = Array.prototype.splice.call(arguments, 0, arguments.length)); var t = new ii(n); return this.__set__ && this.__set__.push(t), t.paper = this, t.type = "set", t }; s.setStart = function (n) { this.__set__ = n || this.set() }; s.setFinish = function () { var n = this.__set__; return delete this.__set__, n }; s.setSize = function (n, t) { return i._engine.setSize.call(this, n, t) }; s.setViewBox = function (n, t, r, u, f) { return i._engine.setViewBox.call(this, n, t, r, u, f) }; s.top = s.bottom = null; s.raphael = i; hr = function (n) { var u = n.getBoundingClientRect(), f = n.ownerDocument, t = f.body, i = f.documentElement, e = i.clientTop || t.clientTop || 0, o = i.clientLeft || t.clientLeft || 0, s = u.top + (r.win.pageYOffset || i.scrollTop || t.scrollTop) - e, h = u.left + (r.win.pageXOffset || i.scrollLeft || t.scrollLeft) - o; return { y: s, x: h } }; s.getElementByPoint = function (n, t) { var o = this, f = o.canvas, i = r.doc.elementFromPoint(n, t), s, u, e; if (r.win.opera && "svg" == i.tagName && (s = hr(f), u = f.createSVGRect(), u.x = n - s.x, u.y = t - s.y, u.width = u.height = 1, e = f.getIntersectionList(u, null), e.length && (i = e[e.length - 1])), !i) return null; for (; i.parentNode && i != f.parentNode && !i.raphael;) i = i.parentNode; return i == o.canvas.parentNode && (i = f), i = i && i.raphael ? o.getById(i.raphaelid) : null }; s.getElementsByBBox = function (n) { var t = this.set(); return this.forEach(function (r) { i.isBBoxIntersect(r.getBBox(), n) && t.push(r) }), t }; s.getById = function (n) { for (var t = this.bottom; t;) { if (t.id == n) return t; t = t.next } return null }; s.forEach = function (n, t) { for (var i = this.bottom; i;) { if (n.call(t, i) === !1) return this; i = i.next } return this }; s.getElementsByPoint = function (n, t) { var i = this.set(); return this.forEach(function (r) { r.isPointInside(n, t) && i.push(r) }), i }; nt.isPointInside = function (n, t) { var r = this.realPath = gt[this.type](this); return this.attr("transform") && this.attr("transform").length && (r = i.transformPath(r, this.attr("transform"))), i.isPointInsidePath(r, n, t) }; nt.getBBox = function (n) { if (this.removed) return {}; var t = this._; return n ? ((t.dirty || !t.bboxwt) && (this.realPath = gt[this.type](this), t.bboxwt = vi(this.realPath), t.bboxwt.toString = pi, t.dirty = 0), t.bboxwt) : ((t.dirty || t.dirtyT || !t.bbox) && ((t.dirty || !this.realPath) && (t.bboxwt = 0, this.realPath = gt[this.type](this)), t.bbox = vi(ai(this.realPath, this.matrix)), t.bbox.toString = pi, t.dirty = t.dirtyT = 0), t.bbox) }; nt.clone = function () { if (this.removed) return null; var n = this.paper[this.type]().attr(this.attr()); return this.__set__ && this.__set__.push(n), n }; nt.glow = function (n) { var r; if ("text" == this.type) return null; n = n || {}; var t = { width: (n.width || 10) + (+this.attr("stroke-width") || 1), fill: n.fill || !1, opacity: n.opacity || .5, offsetx: n.offsetx || 0, offsety: n.offsety || 0, color: n.color || "#000" }, u = t.width / 2, f = this.paper, e = f.set(), i = this.realPath || gt[this.type](this); for (i = this.matrix ? ai(i, this.matrix) : i, r = 1; u + 1 > r; r++) e.push(f.path(i).attr({ stroke: t.color, fill: t.fill ? t.color : "none", "stroke-linejoin": "round", "stroke-linecap": "round", "stroke-width": +(t.width / u * r).toFixed(3), opacity: +(t.opacity / u).toFixed(3) })); return e.insertBefore(this).translate(t.offsetx, t.offsety) }; var di = function (n, t, r, u, f, e, o, s, h) { return null == h ? it(n, t, r, u, f, e, o, s) : i.findDotsAtSegment(n, t, r, u, f, e, o, s, w(n, t, r, u, f, e, o, s, h)) }, gi = function (n, t) { return function (r, u, f) { r = at(r); for (var s, h, e, a, o, c = "", v = {}, l = 0, y = 0, p = r.length; p > y; y++) { if (e = r[y], "M" == e[0]) s = +e[1], h = +e[2]; else { if (a = di(s, h, e[1], e[2], e[3], e[4], e[5], e[6]), l + a > u) { if (t && !v.start) { if (o = di(s, h, e[1], e[2], e[3], e[4], e[5], e[6], u - l), c += ["C" + o.start.x, o.start.y, o.m.x, o.m.y, o.x, o.y], f) return c; v.start = c; c = ["M" + o.x, o.y + "C" + o.n.x, o.n.y, o.end.x, o.end.y, e[5], e[6]].join(); l += a; s = +e[5]; h = +e[6]; continue } if (!n && !t) return o = di(s, h, e[1], e[2], e[3], e[4], e[5], e[6], u - l), { x: o.x, y: o.y, alpha: o.alpha } } l += a; s = +e[5]; h = +e[6] } c += e.shift() + e } return v.end = c, o = n ? l : t ? v : i.findDotsAtSegment(s, h, e[0], e[1], e[2], e[3], e[4], e[5], 1), o.alpha && (o = { x: o.x, y: o.y, alpha: o.alpha }), o } }, cr = gi(1), vr = gi(), nr = gi(0, 1); i.getTotalLength = cr; i.getPointAtLength = vr; i.getSubpath = function (n, t, i) { if (this.getTotalLength(n) - i < 1e-6) return nr(n, t).end; var r = nr(n, i, 1); return t ? nr(r, t).end : r }; nt.getTotalLength = function () { var n = this.getPath(); if (n) return this.node.getTotalLength ? this.node.getTotalLength() : cr(n) }; nt.getPointAtLength = function (n) { var t = this.getPath(); if (t) return vr(t, n) }; nt.getPath = function () { var n, t = i._getPath[this.type]; if ("text" != this.type && "set" != this.type) return t && (n = t(this)), n }; nt.getSubpath = function (n, t) { var r = this.getPath(); if (r) return i.getSubpath(r, n, t) }; bt = i.easing_formulas = { linear: function (n) { return n }, "<": function (n) { return k(n, 1.7) }, ">": function (n) { return k(n, .48) }, "<>": function (n) { var i = .48 - n / 1.04, r = u.sqrt(.1734 + i * i), f = r - i, o = k(a(f), 1 / 3) * (0 > f ? -1 : 1), e = -r - i, s = k(a(e), 1 / 3) * (0 > e ? -1 : 1), t = o + s + .5; return 3 * (1 - t) * t * t + t * t * t }, backIn: function (n) { var t = 1.70158; return n * n * ((t + 1) * n - t) }, backOut: function (n) { n -= 1; var t = 1.70158; return n * n * ((t + 1) * n + t) + 1 }, elastic: function (n) { return n == !!n ? n : k(2, -10 * n) * u.sin(2 * (n - .075) * p / .3) + 1 }, bounce: function (n) { var i, r = 7.5625, t = 2.75; return 1 / t > n ? i = r * n * n : 2 / t > n ? (n -= 1.5 / t, i = r * n * n + .75) : 2.5 / t > n ? (n -= 2.25 / t, i = r * n * n + .9375) : (n -= 2.625 / t, i = r * n * n + .984375), i } }; bt.easeIn = bt["ease-in"] = bt["<"]; bt.easeOut = bt["ease-out"] = bt[">"]; bt.easeInOut = bt["ease-in-out"] = bt["<>"]; bt["back-in"] = bt.backIn; bt["back-out"] = bt.backOut; var vt = [], tu = n.requestAnimationFrame || n.webkitRequestAnimationFrame || n.mozRequestAnimationFrame || n.oRequestAnimationFrame || n.msRequestAnimationFrame || function (n) { setTimeout(n, 16) }, ru = function () { for (var n, a, r, u, d, h, g, p, ut, tt = +new Date, w = 0; w < vt.length; w++) if (n = vt[w], !n.el.removed && !n.paused) { var f, k, b = tt - n.start, s = n.ms, ft = n.easing, o = n.from, l = n.diff, nt = n.to, y = (n.t, n.el), it = {}, rt = {}; if (n.initstatus ? (b = (n.initstatus * n.anim.top - n.prev) / (n.percent - n.prev) * s, n.status = n.initstatus, delete n.initstatus, n.stop && vt.splice(w--, 1)) : n.status = (n.prev + (n.percent - n.prev) * (b / s)) / n.anim.top, !(0 > b)) if (s > b) { a = ft(b / s); for (r in o) if (o[c](r)) { switch (ci[r]) { case v: f = +o[r] + a * s * l[r]; break; case "colour": f = "rgb(" + [tr(hi(o[r].r + a * s * l[r].r)), tr(hi(o[r].g + a * s * l[r].g)), tr(hi(o[r].b + a * s * l[r].b))].join(",") + ")"; break; case "path": for (f = [], u = 0, d = o[r].length; d > u; u++) { for (f[u] = [o[r][u][0]], h = 1, g = o[r][u].length; g > h; h++) f[u][h] = +o[r][u][h] + a * s * l[r][u][h]; f[u] = f[u].join(lt) } f = f.join(lt); break; case "transform": if (l[r].real) for (f = [], u = 0, d = o[r].length; d > u; u++) for (f[u] = [o[r][u][0]], h = 1, g = o[r][u].length; g > h; h++) f[u][h] = o[r][u][h] + a * s * l[r][u][h]; else p = function (n) { return +o[r][n] + a * s * l[r][n] }, f = [["m", p(0), p(1), p(2), p(3), p(4), p(5)]]; break; case "csv": if ("clip-rect" == r) for (f = [], u = 4; u--;) f[u] = +o[r][u] + a * s * l[r][u]; break; default: for (ut = [][e](o[r]), f = [], u = y.paper.customAttributes[r].length; u--;) f[u] = +ut[u] + a * s * l[r][u] } it[r] = f } y.attr(it), function (n, i, r) { setTimeout(function () { t("raphael.anim.frame." + n, i, r) }) }(y.id, y, n.anim) } else { if (function (n, r, u) { setTimeout(function () { t("raphael.anim.frame." + r.id, r, u); t("raphael.anim.finish." + r.id, r, u); i.is(n, "function") && n.call(r) }) }(n.callback, y, n.anim), y.attr(nt), vt.splice(w--, 1), n.repeat > 1 && !n.next) { for (k in nt) nt[c](k) && (rt[k] = n.totalOrigin[k]); n.el.attr(rt); ct(n.anim, n.el, n.anim.percents[0], null, n.totalOrigin, n.repeat - 1) } n.next && !n.stop && ct(n.anim, n.el, n.next, null, n.totalOrigin, n.repeat) } } i.svg && y && y.paper && y.paper.safari(); vt.length && tu(ru) }, tr = function (n) { return n > 255 ? 255 : 0 > n ? 0 : n }; nt.animateWith = function (n, t, r, u, f, e) { var o = this, h, s, c; if (o.removed) return e && e.call(o), o; for (h = r instanceof rt ? r : i.animation(r, u, f, e), ct(h, o, h.percents[0], null, o.attr()), s = 0, c = vt.length; c > s; s++) if (vt[s].anim == t && vt[s].el == n) { vt[c - 1].start = vt[s].start; break } return o }; nt.onAnimation = function (n) { return n ? t.on("raphael.anim.frame." + this.id, n) : t.unbind("raphael.anim.frame." + this.id), this }; rt.prototype.delay = function (n) { var t = new rt(this.anim, this.ms); return t.times = this.times, t.del = +n || 0, t }; rt.prototype.repeat = function (n) { var t = new rt(this.anim, this.ms); return t.del = this.del, t.times = u.floor(f(n, 0)) || 1, t }; i.animation = function (n, t, r, u) { if (n instanceof rt) return n; (i.is(r, "function") || !r) && (u = u || r || null, r = null); n = Object(n); t = +t || 0; var s, f, e = {}; for (f in n) n[c](f) && o(f) != f && o(f) + "%" != f && (s = !0, e[f] = n[f]); return s ? (r && (e.easing = r), u && (e.callback = u), new rt({ 100: e }, t)) : new rt(n, t) }; nt.animate = function (n, t, r, u) { var f = this, e; return f.removed ? (u && u.call(f), f) : (e = n instanceof rt ? n : i.animation(n, t, r, u), ct(e, f, e.percents[0], null, f.attr()), f) }; nt.setTime = function (n, t) { return n && null != t && this.status(n, h(t, n.ms) / n.ms), this }; nt.status = function (n, t) { var u, i, f = [], r = 0; if (null != t) return ct(n, this, -1, h(t, 1)), this; for (u = vt.length; u > r; r++) if (i = vt[r], i.el.id == this.id && (!n || i.anim == n)) { if (n) return i.status; f.push({ anim: i.anim, status: i.status }) } return n ? 0 : f }; nt.pause = function (n) { for (var i = 0; i < vt.length; i++) vt[i].el.id != this.id || n && vt[i].anim != n || t("raphael.anim.pause." + this.id, this, vt[i].anim) !== !1 && (vt[i].paused = !0); return this }; nt.resume = function (n) { for (var r, i = 0; i < vt.length; i++) vt[i].el.id != this.id || n && vt[i].anim != n || (r = vt[i], t("raphael.anim.resume." + this.id, this, r.anim) !== !1 && (delete r.paused, this.status(r.anim, r.status))); return this }; nt.stop = function (n) { for (var i = 0; i < vt.length; i++) vt[i].el.id != this.id || n && vt[i].anim != n || t("raphael.anim.stop." + this.id, this, vt[i].anim) !== !1 && vt.splice(i--, 1); return this }; t.on("raphael.remove", wi); t.on("raphael.clear", wi); nt.toString = function () { return "Raphaël’s object" }; ii = function (n) { if (this.items = [], this.length = 0, this.type = "set", n) for (var t = 0, i = n.length; i > t; t++) n[t] && (n[t].constructor == nt.constructor || n[t].constructor == ii) && (this[this.items.length] = this.items[this.items.length] = n[t], this.length++) }; yt = ii.prototype; yt.push = function () { for (var n, t, i = 0, r = arguments.length; r > i; i++) n = arguments[i], n && (n.constructor == nt.constructor || n.constructor == ii) && (t = this.items.length, this[t] = this.items[t] = n, this.length++); return this }; yt.pop = function () { return this.length && delete this[this.length--], this.items.pop() }; yt.forEach = function (n, t) { for (var i = 0, r = this.items.length; r > i; i++) if (n.call(t, this.items[i], i) === !1) return this; return this }; for (li in nt) nt[c](li) && (yt[li] = function (n) { return function () { var t = arguments; return this.forEach(function (i) { i[n][l](i, t) }) } }(li)); return yt.attr = function (n, t) { var r, f, u, e; if (n && i.is(n, d) && i.is(n[0], "object")) for (r = 0, f = n.length; f > r; r++) this.items[r].attr(n[r]); else for (u = 0, e = this.items.length; e > u; u++) this.items[u].attr(n, t); return this }, yt.clear = function () { for (; this.length;) this.pop() }, yt.splice = function (n, t) { var r; n = 0 > n ? f(this.length + n, 0) : n; t = f(0, h(this.length - n, t)); for (var u = [], o = [], e = [], i = 2; i < arguments.length; i++) e.push(arguments[i]); for (i = 0; t > i; i++) o.push(this[n + i]); for (; i < this.length - n; i++) u.push(this[n + i]); for (r = e.length, i = 0; i < r + u.length; i++) this.items[n + i] = this[n + i] = r > i ? e[i] : u[i - r]; for (i = this.items.length = this.length -= t - r; this[i];) delete this[i++]; return new ii(o) }, yt.exclude = function (n) { for (var t = 0, i = this.length; i > t; t++) if (this[t] == n) return this.splice(t, 1), !0 }, yt.animate = function (n, t, r, u) { var o; (i.is(r, "function") || !r) && (u = r || null); var h, s, e = this.items.length, f = e, c = this; if (!e) return this; for (u && (s = function () { --e || u.call(c) }), r = i.is(r, kt) ? r : s, o = i.animation(n, t, r, s), h = this.items[--f].animate(o) ; f--;) this.items[f] && !this.items[f].removed && this.items[f].animateWith(h, o, o), this.items[f] && !this.items[f].removed || e--; return this }, yt.insertAfter = function (n) { for (var t = this.items.length; t--;) this.items[t].insertAfter(n); return this }, yt.getBBox = function () { for (var n, t = [], i = [], r = [], u = [], e = this.items.length; e--;) this.items[e].removed || (n = this.items[e].getBBox(), t.push(n.x), i.push(n.y), r.push(n.x + n.width), u.push(n.y + n.height)); return t = h[l](0, t), i = h[l](0, i), r = f[l](0, r), u = f[l](0, u), { x: t, y: i, x2: r, y2: u, width: r - t, height: u - i } }, yt.clone = function (n) { n = this.paper.set(); for (var t = 0, i = this.items.length; i > t; t++) n.push(this.items[t].clone()); return n }, yt.toString = function () { return "Raphaël‘s set" }, yt.glow = function (n) { var t = this.paper.set(); return this.forEach(function (i) { var r = i.glow(n); null != r && r.forEach(function (n) { t.push(n) }) }), t }, yt.isPointInside = function (n, t) { var i = !1; return this.forEach(function (r) { if (r.isPointInside(n, t)) return (i = !0, !1) }), i }, i.registerFont = function (n) { var i, u, f, r, t, e; if (!n.face) return n; this.fonts = this.fonts || {}; i = { w: n.w, face: {}, glyphs: {} }; u = n.face["font-family"]; for (f in n.face) n.face[c](f) && (i.face[f] = n.face[f]); if (this.fonts[u] ? this.fonts[u].push(i) : this.fonts[u] = [i], !n.svg) { i.face["units-per-em"] = et(n.face["units-per-em"], 10); for (r in n.glyphs) if (n.glyphs[c](r) && (t = n.glyphs[r], i.glyphs[r] = { w: t.w, k: {}, d: t.d && "M" + t.d.replace(/[mlcxtrv]/g, function (n) { return { l: "L", c: "C", x: "z", t: "m", r: "l", v: "c" }[n] || "M" }) + "z" }, t.k)) for (e in t.k) t[c](e) && (i.glyphs[r].k[e] = t.k[e]) } return n }, s.getFont = function (n, t, r, u) { var f, h, o, e, s, l; if (u = u || "normal", r = r || "normal", t = +t || { normal: 400, bold: 700, lighter: 300, bolder: 800 }[t] || 400, i.fonts) { if (f = i.fonts[n], !f) { h = new RegExp("(^|\\s)" + n.replace(/[^\w\d\s+!~.:_-]/g, b) + "(\\s|$)", "i"); for (o in i.fonts) if (i.fonts[c](o) && h.test(o)) { f = i.fonts[o]; break } } if (f) for (s = 0, l = f.length; l > s && (e = f[s], e.face["font-weight"] != t || e.face["font-style"] != r && e.face["font-style"] || e.face["font-stretch"] != u) ; s++); return e } }, s.print = function (n, t, r, u, e, o, s, c) { var d, p; o = o || "middle"; s = f(h(s || 0, 1), -1); c = f(h(c || 1, 3), 1); var l, v = y(r)[tt](b), g = 0, w = 0, it = b; if (i.is(u, "string") && (u = this.getFont(u)), u) { l = (e || 16) / u.face["units-per-em"]; for (var k = u.face.bbox[tt](oi), rt = +k[0], nt = k[3] - k[1], ut = 0, ft = +k[1] + ("baseline" == o ? nt + +u.face.descent : nt / 2), a = 0, et = v.length; et > a; a++) "\n" == v[a] ? (g = 0, p = 0, w = 0, ut += nt * c) : (d = w && u.glyphs[v[a - 1]] || {}, p = u.glyphs[v[a]], g += w ? (d.w || u.w) + (d.k && d.k[v[a]] || 0) + u.w * s : 0, w = 1), p && p.d && (it += i.transformPath(p.d, ["t", g * l, ut * l, "s", l, l, rt, ft, "t", (n - rt) / l, (t - ft) / l])) } return this.path(it).attr({ fill: "#000", stroke: "none" }) }, s.add = function (n) { if (i.is(n, "array")) for (var t, u = this.set(), r = 0, f = n.length; f > r; r++) t = n[r] || {}, lr[c](t.type) && u.push(this[t.type]().attr(t)); return u }, i.format = function (n, t) { var r = i.is(t, d) ? [0][e](t) : arguments; return n && i.is(n, kt) && r.length - 1 && (n = n.replace(ar, function (n, t) { return null == r[++t] ? b : r[t] })), n || b }, i.fullfill = function () { var n = /\{([^\}]+)\}/g, t = /(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g, i = function (n, i, r) { var u = r; return i.replace(t, function (n, t, i, r, f) { t = t || r; u && (t in u && (u = u[t]), "function" == typeof u && f && (u = u())) }), u = (null == u || u == r ? n : u) + "" }; return function (t, r) { return String(t).replace(n, function (n, t) { return i(n, t, r) }) } }(), i.ninja = function () { return si.was ? r.win.Raphael = si.is : delete Raphael, i }, i.st = yt, function (n, t, r) { function u() { /in/.test(n.readyState) ? setTimeout(u, 9) : i.eve("raphael.DOMload") } null == n.readyState && n.addEventListener && (n.addEventListener(t, r = function () { n.removeEventListener(t, r, !1); n.readyState = "complete" }, !1), n.readyState = "loading"); u() }(document, "DOMContentLoaded"), t.on("raphael.DOMload", function () { ei = !0 }), function () { var nt, v; if (i.svg) { var t = "hasOwnProperty", u = String, f = parseFloat, tt = parseInt, c = Math, k = c.max, y = c.abs, d = c.pow, l = /[, ]+/, p = i.eve, o = "", w = " ", a = "http://www.w3.org/1999/xlink", ft = { block: "M5,0 0,2.5 5,5z", classic: "M5,0 0,2.5 5,5 3.5,3 3.5,2z", diamond: "M2.5,0 5,2.5 2.5,5 0,2.5z", open: "M6,1 1,3.5 6,6", oval: "M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z" }, e = {}; i.toString = function () { return "Your browser supports SVG.\nYou are running Raphaël " + this.version }; var n = function (r, f) { if (f) { "string" == typeof r && (r = n(r)); for (var e in f) f[t](e) && ("xlink:" == e.substring(0, 6) ? r.setAttributeNS(a, e.substring(6), u(f[e])) : r.setAttribute(e, u(f[e]))) } else r = i._g.doc.createElementNS("http://www.w3.org/2000/svg", r), r.style && (r.style.webkitTapHighlightColor = "rgba(0,0,0,0)"); return r }, it = function (t, r) { var w = "linear", l = t.id + r, b = .5, s = .5, tt = t.node, it = t.paper, g = tt.style, a = i._g.doc.getElementById(l), v, e, nt, p, h, rt; if (!a) { if (r = u(r).replace(i._radial_gradient, function (n, t, i) { if (w = "radial", t && i) { b = f(t); s = f(i); var r = 2 * (s > .5) - 1; d(b - .5, 2) + d(s - .5, 2) > .25 && (s = c.sqrt(.25 - d(b - .5, 2)) * r + .5) && .5 != s && (s = s.toFixed(5) - 1e-5 * r) } return o }), r = r.split(/\s*\-\s*/), "linear" == w) { if (v = r.shift(), v = -f(v), isNaN(v)) return null; e = [0, 0, c.cos(i.rad(v)), c.sin(i.rad(v))]; nt = 1 / (k(y(e[2]), y(e[3])) || 1); e[2] *= nt; e[3] *= nt; e[2] < 0 && (e[0] = -e[2], e[2] = 0); e[3] < 0 && (e[1] = -e[3], e[3] = 0) } if (p = i._parseDots(r), !p) return null; if (l = l.replace(/[\(\)\s,\xb0#]/g, "_"), t.gradient && l != t.gradient.id && (it.defs.removeChild(t.gradient), delete t.gradient), !t.gradient) for (a = n(w + "Gradient", { id: l }), t.gradient = a, n(a, "radial" == w ? { fx: b, fy: s } : { x1: e[0], y1: e[1], x2: e[2], y2: e[3], gradientTransform: t.matrix.invert() }), it.defs.appendChild(a), h = 0, rt = p.length; rt > h; h++) a.appendChild(n("stop", { offset: p[h].offset ? p[h].offset : h ? "100%" : "0%", "stop-color": p[h].color || "#fff" })) } return n(tt, { fill: "url(#" + l + ")", opacity: 1, "fill-opacity": 1 }), g.fill = o, g.opacity = 1, g.fillOpacity = 1, 1 }, b = function (t) { var i = t.getBBox(1); n(t.pattern, { patternTransform: t.matrix.invert() + " translate(" + i.x + "," + i.y + ")" }) }, s = function (r, f, s) { var b, k, tt, g, it, rt; if ("path" == r.type) { for (var p, w, ut, et, c, ot = u(f).toLowerCase().split("-"), ht = r.paper, h = s ? "end" : "start", ct = r.node, l = r.attrs, d = l["stroke-width"], st = ot.length, a = "classic", v = 3, y = 3, nt = 5; st--;) switch (ot[st]) { case "block": case "classic": case "oval": case "diamond": case "open": case "none": a = ot[st]; break; case "wide": y = 5; break; case "narrow": y = 2; break; case "long": v = 5; break; case "short": v = 2 } ("open" == a ? (v += 2, y += 2, nt += 2, ut = 1, et = s ? 4 : 1, c = { fill: "none", stroke: l.stroke }) : (et = ut = v / 2, c = { fill: l.stroke, stroke: "none" }), r._.arrows ? s ? (r._.arrows.endPath && e[r._.arrows.endPath]--, r._.arrows.endMarker && e[r._.arrows.endMarker]--) : (r._.arrows.startPath && e[r._.arrows.startPath]--, r._.arrows.startMarker && e[r._.arrows.startMarker]--) : r._.arrows = {}, "none" != a) ? (b = "raphael-marker-" + a, k = "raphael-marker-" + h + a + v + y, i._g.doc.getElementById(b) ? e[b]++ : (ht.defs.appendChild(n(n("path"), { "stroke-linecap": "round", d: ft[a], id: b })), e[b] = 1), g = i._g.doc.getElementById(k), g ? (e[k]++, tt = g.getElementsByTagName("use")[0]) : (g = n(n("marker"), { id: k, markerHeight: y, markerWidth: v, orient: "auto", refX: et, refY: y / 2 }), tt = n(n("use"), { "xlink:href": "#" + b, transform: (s ? "rotate(180 " + v / 2 + " " + y / 2 + ") " : o) + "scale(" + v / nt + "," + y / nt + ")", "stroke-width": (2 / (v / nt + y / nt)).toFixed(4) }), g.appendChild(tt), ht.defs.appendChild(g), e[k] = 1), n(tt, c), it = ut * ("diamond" != a && "oval" != a), s ? (p = r._.arrows.startdx * d || 0, w = i.getTotalLength(l.path) - it * d) : (p = it * d, w = i.getTotalLength(l.path) - (r._.arrows.enddx * d || 0)), c = {}, c["marker-" + h] = "url(#" + k + ")", (w || p) && (c.d = i.getSubpath(l.path, p, w)), n(ct, c), r._.arrows[h + "Path"] = b, r._.arrows[h + "Marker"] = k, r._.arrows[h + "dx"] = it, r._.arrows[h + "Type"] = a, r._.arrows[h + "String"] = f) : (s ? (p = r._.arrows.startdx * d || 0, w = i.getTotalLength(l.path) - p) : (p = 0, w = i.getTotalLength(l.path) - (r._.arrows.enddx * d || 0)), r._.arrows[h + "Path"] && n(ct, { d: i.getSubpath(l.path, p, w) }), delete r._.arrows[h + "Path"], delete r._.arrows[h + "Marker"], delete r._.arrows[h + "dx"], delete r._.arrows[h + "Type"], delete r._.arrows[h + "String"]); for (c in e) e[t](c) && !e[c] && (rt = i._g.doc.getElementById(c), rt && rt.parentNode.removeChild(rt)) } }, et = { "": [0], none: [0], "-": [3, 1], ".": [1, 1], "-.": [3, 1, 1, 1], "-..": [3, 1, 1, 1, 1, 1], ". ": [1, 3], "- ": [4, 3], "--": [8, 3], "- .": [4, 3, 1, 3], "--.": [8, 3, 1, 3], "--..": [8, 3, 1, 3, 1, 3] }, rt = function (t, i, r) { if (i = et[u(i).toLowerCase()]) { for (var e = t.attrs["stroke-width"] || "1", s = { round: e, square: e, butt: 0 }[t.attrs["stroke-linecap"] || r["stroke-linecap"]] || 0, o = [], f = i.length; f--;) o[f] = i[f] * e + (f % 2 ? 1 : -1) * s; n(t.node, { "stroke-dasharray": o.join(",") }) } }, g = function (r, f) { var h = r.node, c = r.attrs, pt = h.style.visibility, v, e, d, vt, g, et, nt, p, st, at, ht, ct, lt, w, ut, ft, yt; h.style.visibility = "hidden"; for (v in f) if (f[t](v)) { if (!i._availableAttrs[t](v)) continue; e = f[v]; switch (c[v] = e, v) { case "blur": r.blur(e); break; case "title": d = h.getElementsByTagName("title"); d.length && (d = d[0]) ? d.firstChild.nodeValue = e : (d = n("title"), vt = i._g.doc.createTextNode(e), d.appendChild(vt), h.appendChild(d)); break; case "href": case "target": g = h.parentNode; "a" != g.tagName.toLowerCase() && (et = n("a"), g.insertBefore(et, h), et.appendChild(h), g = et); "target" == v ? g.setAttributeNS(a, "show", "blank" == e ? "new" : e) : g.setAttributeNS(a, v, e); break; case "cursor": h.style.cursor = e; break; case "transform": r.transform(e); break; case "arrow-start": s(r, e); break; case "arrow-end": s(r, e, 1); break; case "clip-rect": nt = u(e).split(l); 4 == nt.length && (r.clip && r.clip.parentNode.parentNode.removeChild(r.clip.parentNode), p = n("clipPath"), st = n("rect"), p.id = i.createUUID(), n(st, { x: nt[0], y: nt[1], width: nt[2], height: nt[3] }), p.appendChild(st), r.paper.defs.appendChild(p), n(h, { "clip-path": "url(#" + p.id + ")" }), r.clip = st); e || (at = h.getAttribute("clip-path"), at && (ht = i._g.doc.getElementById(at.replace(/(^url\(#|\)$)/g, o)), ht && ht.parentNode.removeChild(ht), n(h, { "clip-path": o }), delete r.clip)); break; case "path": "path" == r.type && (n(h, { d: e ? c.path = i._pathToAbsolute(e) : "M0,0" }), r._.dirty = 1, r._.arrows && ("startString" in r._.arrows && s(r, r._.arrows.startString), "endString" in r._.arrows && s(r, r._.arrows.endString, 1))); break; case "width": if (h.setAttribute(v, e), r._.dirty = 1, !c.fx) break; v = "x"; e = c.x; case "x": c.fx && (e = -c.x - (c.width || 0)); case "rx": if ("rx" == v && "rect" == r.type) break; case "cx": h.setAttribute(v, e); r.pattern && b(r); r._.dirty = 1; break; case "height": if (h.setAttribute(v, e), r._.dirty = 1, !c.fy) break; v = "y"; e = c.y; case "y": c.fy && (e = -c.y - (c.height || 0)); case "ry": if ("ry" == v && "rect" == r.type) break; case "cy": h.setAttribute(v, e); r.pattern && b(r); r._.dirty = 1; break; case "r": "rect" == r.type ? n(h, { rx: e, ry: e }) : h.setAttribute(v, e); r._.dirty = 1; break; case "src": "image" == r.type && h.setAttributeNS(a, "href", e); break; case "stroke-width": (1 != r._.sx || 1 != r._.sy) && (e /= k(y(r._.sx), y(r._.sy)) || 1); r.paper._vbSize && (e *= r.paper._vbSize); h.setAttribute(v, e); c["stroke-dasharray"] && rt(r, c["stroke-dasharray"], f); r._.arrows && ("startString" in r._.arrows && s(r, r._.arrows.startString), "endString" in r._.arrows && s(r, r._.arrows.endString, 1)); break; case "stroke-dasharray": rt(r, e, f); break; case "fill": if (ct = u(e).match(i._ISURL), ct) { p = n("pattern"); lt = n("image"); p.id = i.createUUID(); n(p, { x: 0, y: 0, patternUnits: "userSpaceOnUse", height: 1, width: 1 }); n(lt, { x: 0, y: 0, "xlink:href": ct[1] }); p.appendChild(lt), function (t) { i._preload(ct[1], function () { var i = this.offsetWidth, u = this.offsetHeight; n(t, { width: i, height: u }); n(lt, { width: i, height: u }); r.paper.safari() }) }(p); r.paper.defs.appendChild(p); n(h, { fill: "url(#" + p.id + ")" }); r.pattern = p; r.pattern && b(r); break } if (w = i.getRGB(e), w.error) { if (("circle" == r.type || "ellipse" == r.type || "r" != u(e).charAt()) && it(r, e)) { ("opacity" in c || "fill-opacity" in c) && (ut = i._g.doc.getElementById(h.getAttribute("fill").replace(/^url\(#|\)$/g, o)), ut && (ft = ut.getElementsByTagName("stop"), n(ft[ft.length - 1], { "stop-opacity": ("opacity" in c ? c.opacity : 1) * ("fill-opacity" in c ? c["fill-opacity"] : 1) }))); c.gradient = e; c.fill = "none"; break } } else delete f.gradient, delete c.gradient, !i.is(c.opacity, "undefined") && i.is(f.opacity, "undefined") && n(h, { opacity: c.opacity }), !i.is(c["fill-opacity"], "undefined") && i.is(f["fill-opacity"], "undefined") && n(h, { "fill-opacity": c["fill-opacity"] }); w[t]("opacity") && n(h, { "fill-opacity": w.opacity > 1 ? w.opacity / 100 : w.opacity }); case "stroke": w = i.getRGB(e); h.setAttribute(v, w.hex); "stroke" == v && w[t]("opacity") && n(h, { "stroke-opacity": w.opacity > 1 ? w.opacity / 100 : w.opacity }); "stroke" == v && r._.arrows && ("startString" in r._.arrows && s(r, r._.arrows.startString), "endString" in r._.arrows && s(r, r._.arrows.endString, 1)); break; case "gradient": ("circle" == r.type || "ellipse" == r.type || "r" != u(e).charAt()) && it(r, e); break; case "opacity": c.gradient && !c[t]("stroke-opacity") && n(h, { "stroke-opacity": e > 1 ? e / 100 : e }); case "fill-opacity": if (c.gradient) { ut = i._g.doc.getElementById(h.getAttribute("fill").replace(/^url\(#|\)$/g, o)); ut && (ft = ut.getElementsByTagName("stop"), n(ft[ft.length - 1], { "stop-opacity": e })); break } default: "font-size" == v && (e = tt(e, 10) + "px"); yt = v.replace(/(\-.)/g, function (n) { return n.substring(1).toUpperCase() }); h.style[yt] = e; r._.dirty = 1; h.setAttribute(v, e) } } ot(r, f); h.style.visibility = pt }, ut = 1.2, ot = function (r, f) { var y, a; if ("text" == r.type && (f[t]("text") || f[t]("font") || f[t]("font-size") || f[t]("x") || f[t]("y"))) { var h = r.attrs, s = r.node, p = s.firstChild ? tt(i._g.doc.defaultView.getComputedStyle(s.firstChild, o).getPropertyValue("font-size"), 10) : 10; if (f[t]("text")) { for (h.text = f.text; s.firstChild;) s.removeChild(s.firstChild); for (var l, w = u(f.text).split("\n"), c = [], e = 0, v = w.length; v > e; e++) l = n("tspan"), e && n(l, { dy: p * ut, x: h.x }), l.appendChild(i._g.doc.createTextNode(w[e])), s.appendChild(l), c[e] = l } else for (c = s.getElementsByTagName("tspan"), e = 0, v = c.length; v > e; e++) e ? n(c[e], { dy: p * ut, x: h.x }) : n(c[0], { dy: 0 }); n(s, { x: h.x, y: h.y }); r._.dirty = 1; y = r._getBBox(); a = h.y - (y.y + y.height / 2); a && i.is(a, "finite") && n(c[0], { dy: a }) } }, h = function (n, t) { this[0] = this.node = n; n.raphael = !0; this.id = i._oid++; n.raphaelid = this.id; this.matrix = i.matrix(); this.realPath = null; this.paper = t; this.attrs = this.attrs || {}; this._ = { transform: [], sx: 1, sy: 1, deg: 0, dx: 0, dy: 0, dirty: 1 }; !t.bottom && (t.bottom = this); this.prev = t.top; t.top && (t.top.next = this); t.top = this; this.next = null }, r = i.el; h.prototype = r; r.constructor = h; i._engine.path = function (t, i) { var u = n("path"), r; return i.canvas && i.canvas.appendChild(u), r = new h(u, i), r.type = "path", g(r, { fill: "none", stroke: "#000", path: t }), r }; r.rotate = function (n, t, i) { if (this.removed) return this; if (n = u(n).split(l), n.length - 1 && (t = f(n[1]), i = f(n[2])), n = f(n[0]), null == i && (t = i), null == t || null == i) { var r = this.getBBox(1); t = r.x + r.width / 2; i = r.y + r.height / 2 } return this.transform(this._.transform.concat([["r", n, t, i]])), this }; r.scale = function (n, t, i, r) { if (this.removed) return this; if (n = u(n).split(l), n.length - 1 && (t = f(n[1]), i = f(n[2]), r = f(n[3])), n = f(n[0]), null == t && (t = n), null == r && (i = r), null == i || null == r) var e = this.getBBox(1); return i = null == i ? e.x + e.width / 2 : i, r = null == r ? e.y + e.height / 2 : r, this.transform(this._.transform.concat([["s", n, t, i, r]])), this }; r.translate = function (n, t) { return this.removed ? this : (n = u(n).split(l), n.length - 1 && (t = f(n[1])), n = f(n[0]) || 0, t = +t || 0, this.transform(this._.transform.concat([["t", n, t]])), this) }; r.transform = function (r) { var u = this._, f; return null == r ? u.transform : ((i._extractTransform(this, r), this.clip && n(this.clip, { transform: this.matrix.invert() }), this.pattern && b(this), this.node && n(this.node, { transform: this.matrix }), 1 != u.sx || 1 != u.sy) && (f = this.attrs[t]("stroke-width") ? this.attrs["stroke-width"] : 1, this.attr({ "stroke-width": f })), this) }; r.hide = function () { return !this.removed && this.paper.safari(this.node.style.display = "none"), this }; r.show = function () { return !this.removed && this.paper.safari(this.node.style.display = ""), this }; r.remove = function () { var n, t; if (!this.removed && this.node.parentNode) { n = this.paper; n.__set__ && n.__set__.exclude(this); p.unbind("raphael.*.*." + this.id); this.gradient && n.defs.removeChild(this.gradient); i._tear(this, n); "a" == this.node.parentNode.tagName.toLowerCase() ? this.node.parentNode.parentNode.removeChild(this.node.parentNode) : this.node.parentNode.removeChild(this.node); for (t in this) this[t] = "function" == typeof this[t] ? i._removedFactory(t) : null; this.removed = !0 } }; r._getBBox = function () { var t, n; "none" == this.node.style.display && (this.show(), t = !0); n = {}; try { n = this.node.getBBox() } catch (i) { } finally { n = n || {} } return t && this.hide(), n }; r.attr = function (n, r) { var e, h, f, u, a, v; if (this.removed) return this; if (null == n) { e = {}; for (h in this.attrs) this.attrs[t](h) && (e[h] = this.attrs[h]); return e.gradient && "none" == e.fill && (e.fill = e.gradient) && delete e.gradient, e.transform = this._.transform, e } if (null == r && i.is(n, "string")) { if ("fill" == n && "none" == this.attrs.fill && this.attrs.gradient) return this.attrs.gradient; if ("transform" == n) return this._.transform; for (var y = n.split(l), s = {}, o = 0, c = y.length; c > o; o++) n = y[o], s[n] = n in this.attrs ? this.attrs[n] : i.is(this.paper.customAttributes[n], "function") ? this.paper.customAttributes[n].def : i._availableAttrs[n]; return c - 1 ? s : s[y[0]] } if (null == r && i.is(n, "array")) { for (s = {}, o = 0, c = n.length; c > o; o++) s[n[o]] = this.attr(n[o]); return s } null != r ? (f = {}, f[n] = r) : null != n && i.is(n, "object") && (f = n); for (u in f) p("raphael.attr." + u + "." + this.id, this, f[u]); for (u in this.paper.customAttributes) if (this.paper.customAttributes[t](u) && f[t](u) && i.is(this.paper.customAttributes[u], "function")) { a = this.paper.customAttributes[u].apply(this, [].concat(f[u])); this.attrs[u] = f[u]; for (v in a) a[t](v) && (f[v] = a[v]) } return g(this, f), this }; r.toFront = function () { if (this.removed) return this; "a" == this.node.parentNode.tagName.toLowerCase() ? this.node.parentNode.parentNode.appendChild(this.node.parentNode) : this.node.parentNode.appendChild(this.node); var n = this.paper; return n.top != this && i._tofront(this, n), this }; r.toBack = function () { if (this.removed) return this; var n = this.node.parentNode; return "a" == n.tagName.toLowerCase() ? n.parentNode.insertBefore(this.node.parentNode, this.node.parentNode.parentNode.firstChild) : n.firstChild != this.node && n.insertBefore(this.node, this.node.parentNode.firstChild), i._toback(this, this.paper), this.paper, this }; r.insertAfter = function (n) { if (this.removed) return this; var t = n.node || n[n.length - 1].node; return t.nextSibling ? t.parentNode.insertBefore(this.node, t.nextSibling) : t.parentNode.appendChild(this.node), i._insertafter(this, n, this.paper), this }; r.insertBefore = function (n) { if (this.removed) return this; var t = n.node || n[0].node; return t.parentNode.insertBefore(this.node, t), i._insertbefore(this, n, this.paper), this }; r.blur = function (t) { var r = this, u, f; return 0 != +t ? (u = n("filter"), f = n("feGaussianBlur"), r.attrs.blur = t, u.id = i.createUUID(), n(f, { stdDeviation: +t || 1.5 }), u.appendChild(f), r.paper.defs.appendChild(u), r._blur = u, n(r.node, { filter: "url(#" + u.id + ")" })) : (r._blur && (r._blur.parentNode.removeChild(r._blur), delete r._blur, delete r.attrs.blur), r.node.removeAttribute("filter")), r }; i._engine.circle = function (t, i, r, u) { var e = n("circle"), f; return t.canvas && t.canvas.appendChild(e), f = new h(e, t), f.attrs = { cx: i, cy: r, r: u, fill: "none", stroke: "#000" }, f.type = "circle", n(e, f.attrs), f }; i._engine.rect = function (t, i, r, u, f, e) { var s = n("rect"), o; return t.canvas && t.canvas.appendChild(s), o = new h(s, t), o.attrs = { x: i, y: r, width: u, height: f, r: e || 0, rx: e || 0, ry: e || 0, fill: "none", stroke: "#000" }, o.type = "rect", n(s, o.attrs), o }; i._engine.ellipse = function (t, i, r, u, f) { var o = n("ellipse"), e; return t.canvas && t.canvas.appendChild(o), e = new h(o, t), e.attrs = { cx: i, cy: r, rx: u, ry: f, fill: "none", stroke: "#000" }, e.type = "ellipse", n(o, e.attrs), e }; i._engine.image = function (t, i, r, u, f, e) { var o = n("image"), s; return n(o, { x: r, y: u, width: f, height: e, preserveAspectRatio: "none" }), o.setAttributeNS(a, "href", i), t.canvas && t.canvas.appendChild(o), s = new h(o, t), s.attrs = { x: r, y: u, width: f, height: e, src: i }, s.type = "image", s }; i._engine.text = function (t, r, u, f) { var o = n("text"), e; return t.canvas && t.canvas.appendChild(o), e = new h(o, t), e.attrs = { x: r, y: u, "text-anchor": "middle", text: f, font: i._availableAttrs.font, stroke: "none", fill: "#000" }, e.type = "text", g(e, e.attrs), e }; i._engine.setSize = function (n, t) { return this.width = n || this.width, this.height = t || this.height, this.canvas.setAttribute("width", this.width), this.canvas.setAttribute("height", this.height), this._viewBox && this.setViewBox.apply(this, this._viewBox), this }; i._engine.create = function () { var u = i._getContainer.apply(0, arguments), t = u && u.container, o = u.x, s = u.y, f = u.width, e = u.height, c, r, h; if (!t) throw new Error("SVG container not found."); return r = n("svg"), h = "overflow:hidden;", o = o || 0, s = s || 0, f = f || 512, e = e || 342, n(r, { height: e, version: 1.1, width: f, xmlns: "http://www.w3.org/2000/svg" }), 1 == t ? (r.style.cssText = h + "position:absolute;left:" + o + "px;top:" + s + "px", i._g.doc.body.appendChild(r), c = 1) : (r.style.cssText = h + "position:relative", t.firstChild ? t.insertBefore(r, t.firstChild) : t.appendChild(r)), t = new i._Paper, t.width = f, t.height = e, t.canvas = r, t.clear(), t._left = t._top = 0, c && (t.renderfix = function () { }), t.renderfix(), t }; i._engine.setViewBox = function (t, i, r, u, f) { p("raphael.setViewBox", this, this._viewBox, [t, i, r, u, f]); var o, h, s = k(r / this.width, u / this.height), e = this.top, c = f ? "xMidYMid meet" : "xMinYMin"; for (null == t ? (this._vbSize && (s = 1), delete this._vbSize, o = "0 0 " + this.width + w + this.height) : (this._vbSize = s, o = t + w + i + w + r + w + u), n(this.canvas, { viewBox: o, preserveAspectRatio: c }) ; s && e;) h = "stroke-width" in e.attrs ? e.attrs["stroke-width"] : 1, e.attr({ "stroke-width": h }), e._.dirty = 1, e._.dirtyT = 1, e = e.prev; return this._viewBox = [t, i, r, u, !!f], this }; i.prototype.renderfix = function () { var n, t = this.canvas, u = t.style, i, r; try { n = t.getScreenCTM() || t.createSVGMatrix() } catch (f) { n = t.createSVGMatrix() } i = -n.e % 1; r = -n.f % 1; (i || r) && (i && (this._left = (this._left + i) % 1, u.left = this._left + "px"), r && (this._top = (this._top + r) % 1, u.top = this._top + "px")) }; i.prototype.clear = function () { i.eve("raphael.clear", this); for (var t = this.canvas; t.firstChild;) t.removeChild(t.firstChild); this.bottom = this.top = null; (this.desc = n("desc")).appendChild(i._g.doc.createTextNode("Created with Raphaël " + i.version)); t.appendChild(this.desc); t.appendChild(this.defs = n("defs")) }; i.prototype.remove = function () { p("raphael.remove", this); this.canvas.parentNode && this.canvas.parentNode.removeChild(this.canvas); for (var n in this) this[n] = "function" == typeof this[n] ? i._removedFactory(n) : null }; nt = i.st; for (v in r) r[t](v) && !nt[t](v) && (nt[v] = function (n) { return function () { var t = arguments; return this.forEach(function (i) { i[n].apply(i, t) }) } }(v)) } }(), function () { var s, d, y; if (i.vml) { var h = "hasOwnProperty", t = String, f = parseFloat, c = Math, e = c.round, k = c.max, g = c.min, p = c.abs, l = "fill", a = /[, ]+/, ut = i.eve, ft = " progid:DXImageTransform.Microsoft", o = " ", u = "", nt = { M: "m", L: "l", C: "c", Z: "x", m: "t", l: "r", c: "v", z: "x" }, et = /([clmz]),?([^clmz]*)/gi, ot = / progid:\S+Blur\([^\)]+\)/g, st = /-?[^,\s-]+/g, tt = "position:absolute;left:0;top:0;width:1px;height:1px", n = 21600, ht = { path: 1, rect: 1, image: 1 }, ct = { circle: 1, ellipse: 1 }, lt = function (r) { var l = /[ahqstv]/gi, a = i._pathToAbsolute, v, y, f, c, s, w, h, p; if (t(r).match(l) && (a = i._path2curve), l = /[clmz]/g, a == i._pathToAbsolute && !t(r).match(l)) return t(r).replace(et, function (t, i, r) { var u = [], o = "m" == i.toLowerCase(), f = nt[i]; return r.replace(st, function (t) { o && 2 == u.length && (f += u + nt["m" == i ? "l" : "L"], u = []); u.push(e(t * n)) }), f + u }); for (c = a(r), v = [], s = 0, w = c.length; w > s; s++) { for (y = c[s], f = c[s][0].toLowerCase(), "z" == f && (f = "x"), h = 1, p = y.length; p > h; h++) f += e(y[h] * n) + (h != p - 1 ? "," : u); v.push(f) } return v.join(o) }, it = function (n, t, r) { var u = i.matrix(); return u.rotate(-n, .5, .5), { dx: u.x(t, r), dy: u.y(t, r) } }, w = function (t, i, r, u, f, e) { var v = t._, k = t.matrix, h = v.fillpos, c = t.node, y = c.style, w = 1, b = "", d = n / i, g = n / r, a, s; (y.visibility = "hidden", i && r) && ((c.coordsize = p(d) + o + p(g), y.rotation = e * (0 > i * r ? -1 : 1), e) && (a = it(e, u, f), u = a.dx, f = a.dy), (0 > i && (b += "x"), 0 > r && (b += " y") && (w = -1), y.flip = b, c.coordorigin = u * -d + o + f * -g, h || v.fillsize) && (s = c.getElementsByTagName(l), s = s && s[0], c.removeChild(s), h && (a = it(e, k.x(h[0], h[1]), k.y(h[0], h[1])), s.position = a.dx * w + o + a.dy * w), v.fillsize && (s.size = v.fillsize[0] * p(i) + o + v.fillsize[1] * p(r)), c.appendChild(s)), y.visibility = "visible") }; i.toString = function () { return "Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël " + this.version }; var rt = function (n, i, r) { for (var e, u = t(i).toLowerCase().split("-"), o = r ? "end" : "start", f = u.length, s = "classic", h = "medium", c = "medium"; f--;) switch (u[f]) { case "block": case "classic": case "oval": case "diamond": case "open": case "none": s = u[f]; break; case "wide": case "narrow": c = u[f]; break; case "long": case "short": h = u[f] } e = n.node.getElementsByTagName("stroke")[0]; e[o + "arrow"] = s; e[o + "arrowlength"] = h; e[o + "arrowwidth"] = c }, v = function (r, c) { var yt, nt, ot, ut, ft, y, oi, pt, st, tt, d, kt, dt, et, gt, vt; r.attrs = r.attrs || {}; var b = r.node, v = r.attrs, it = b.style, ri = ht[r.type] && (c.x != v.x || c.y != v.y || c.width != v.width || c.height != v.height || c.cx != v.cx || c.cy != v.cy || c.rx != v.rx || c.ry != v.ry || c.r != v.r), hi = ct[r.type] && (v.cx != c.cx || v.cy != c.cy || v.r != c.r || v.rx != c.rx || v.ry != c.ry), p = r; for (yt in c) c[h](yt) && (v[yt] = c[yt]); if (ri && (v.path = i._getPath[r.type](r), r._.dirty = 1), c.href && (b.href = c.href), c.title && (b.title = c.title), c.target && (b.target = c.target), c.cursor && (it.cursor = c.cursor), "blur" in c && r.blur(c.blur), (c.path && "path" == r.type || ri) && (b.path = lt(~t(v.path).toLowerCase().indexOf("r") ? i._pathToAbsolute(v.path) : v.path), "image" == r.type && (r._.fillpos = [v.x, v.y], r._.fillsize = [v.width, v.height], w(r, 1, 1, 0, 0, 0))), "transform" in c && r.transform(c.transform), hi) { var bt = +v.cx, ui = +v.cy, fi = +v.rx || +v.r || 0, ei = +v.ry || +v.r || 0; b.path = i.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x", e((bt - fi) * n), e((ui - ei) * n), e((bt + fi) * n), e((ui + ei) * n), e(bt * n)); r._.dirty = 1 } if ("clip-rect" in c && (nt = t(c["clip-rect"]).split(a), 4 == nt.length && (nt[2] = +nt[2] + +nt[0], nt[3] = +nt[3] + +nt[1], ot = b.clipRect || i._g.doc.createElement("div"), ut = ot.style, ut.clip = i.format("rect({1}px {2}px {3}px {0}px)", nt), b.clipRect || (ut.position = "absolute", ut.top = 0, ut.left = 0, ut.width = r.paper.width + "px", ut.height = r.paper.height + "px", b.parentNode.insertBefore(ot, b), ot.appendChild(b), b.clipRect = ot)), c["clip-rect"] || b.clipRect && (b.clipRect.style.clip = "auto")), r.textpath && (ft = r.textpath.style, c.font && (ft.font = c.font), c["font-family"] && (ft.fontFamily = '"' + c["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g, u) + '"'), c["font-size"] && (ft.fontSize = c["font-size"]), c["font-weight"] && (ft.fontWeight = c["font-weight"]), c["font-style"] && (ft.fontStyle = c["font-style"])), ("arrow-start" in c && rt(p, c["arrow-start"]), "arrow-end" in c && rt(p, c["arrow-end"], 1), null != c.opacity || null != c["stroke-width"] || null != c.fill || null != c.src || null != c.stroke || null != c["stroke-width"] || null != c["stroke-opacity"] || null != c["fill-opacity"] || null != c["stroke-dasharray"] || null != c["stroke-miterlimit"] || null != c["stroke-linejoin"] || null != c["stroke-linecap"]) && (y = b.getElementsByTagName(l), oi = !1, (y = y && y[0], !y && (oi = y = s(l)), "image" == r.type && c.src && (y.src = c.src), c.fill && (y.on = !0), (null == y.on || "none" == c.fill || null === c.fill) && (y.on = !1), y.on && c.fill) && (pt = t(c.fill).match(i._ISURL), pt ? (y.parentNode == b && b.removeChild(y), y.rotate = !0, y.src = pt[1], y.type = "tile", st = r.getBBox(1), y.position = st.x + o + st.y, r._.fillpos = [st.x, st.y], i._preload(pt[1], function () { r._.fillsize = [this.offsetWidth, this.offsetHeight] })) : (y.color = i.getRGB(c.fill).hex, y.src = u, y.type = "solid", i.getRGB(c.fill).error && (p.type in { circle: 1, ellipse: 1 } || "r" != t(c.fill).charAt()) && at(p, c.fill, y) && (v.fill = "none", v.gradient = c.fill, y.rotate = !1))), ("fill-opacity" in c || "opacity" in c) && (tt = ((+v["fill-opacity"] + 1 || 2) - 1) * ((+v.opacity + 1 || 2) - 1) * ((+i.getRGB(c.fill).o + 1 || 2) - 1), tt = g(k(tt, 0), 1), y.opacity = tt, y.src && (y.color = "none")), b.appendChild(y), d = b.getElementsByTagName("stroke") && b.getElementsByTagName("stroke")[0], kt = !1, d || (kt = d = s("stroke")), (c.stroke && "none" != c.stroke || c["stroke-width"] || null != c["stroke-opacity"] || c["stroke-dasharray"] || c["stroke-miterlimit"] || c["stroke-linejoin"] || c["stroke-linecap"]) && (d.on = !0), ("none" == c.stroke || null === c.stroke || null == d.on || 0 == c.stroke || 0 == c["stroke-width"]) && (d.on = !1), dt = i.getRGB(c.stroke), d.on && c.stroke && (d.color = dt.hex), tt = ((+v["stroke-opacity"] + 1 || 2) - 1) * ((+v.opacity + 1 || 2) - 1) * ((+dt.o + 1 || 2) - 1), et = .75 * (f(c["stroke-width"]) || 1), (tt = g(k(tt, 0), 1), null == c["stroke-width"] && (et = v["stroke-width"]), c["stroke-width"] && (d.weight = et), et && 1 > et && (tt *= et) && (d.weight = 1), d.opacity = tt, c["stroke-linejoin"] && (d.joinstyle = c["stroke-linejoin"] || "miter"), d.miterlimit = c["stroke-miterlimit"] || 8, c["stroke-linecap"] && (d.endcap = "butt" == c["stroke-linecap"] ? "flat" : "square" == c["stroke-linecap"] ? "square" : "round"), "stroke-dasharray" in c) && (gt = { "-": "shortdash", ".": "shortdot", "-.": "shortdashdot", "-..": "shortdashdotdot", ". ": "dot", "- ": "dash", "--": "longdash", "- .": "dashdot", "--.": "longdashdot", "--..": "longdashdotdot" }, d.dashstyle = gt[h](c["stroke-dasharray"]) ? gt[c["stroke-dasharray"]] : u), kt && b.appendChild(d)), "text" == p.type) { p.paper.canvas.style.display = u; var ni = p.paper.span, ti = 100, wt = v.font && v.font.match(/\d+(?:\.\d*)?(?=px)/); it = ni.style; v.font && (it.font = v.font); v["font-family"] && (it.fontFamily = v["font-family"]); v["font-weight"] && (it.fontWeight = v["font-weight"]); v["font-style"] && (it.fontStyle = v["font-style"]); wt = f(v["font-size"] || wt && wt[0]) || 10; it.fontSize = wt * ti + "px"; p.textpath.string && (ni.innerHTML = t(p.textpath.string).replace(/</g, "&#60;").replace(/&/g, "&#38;").replace(/\n/g, "<br>")); vt = ni.getBoundingClientRect(); p.W = v.w = (vt.right - vt.left) / ti; p.H = v.h = (vt.bottom - vt.top) / ti; p.X = v.x; p.Y = v.y + p.H / 2; ("x" in c || "y" in c) && (p.path.v = i.format("m{0},{1}l{2},{1}", e(v.x * n), e(v.y * n), e(v.x * n) + 1)); for (var si = ["x", "y", "text", "font", "font-family", "font-weight", "font-style", "font-size"], ii = 0, ci = si.length; ci > ii; ii++) if (si[ii] in c) { p._.dirty = 1; break } switch (v["text-anchor"]) { case "start": p.textpath.style["v-text-align"] = "left"; p.bbx = p.W / 2; break; case "end": p.textpath.style["v-text-align"] = "right"; p.bbx = -p.W / 2; break; default: p.textpath.style["v-text-align"] = "center"; p.bbx = 0 } p.textpath.style["v-text-kern"] = !0 } }, at = function (n, r, e) { var h, s; n.attrs = n.attrs || {}; var a = (n.attrs, Math.pow), v = "linear", p = ".5 .5"; if ((n.attrs.gradient = r, r = t(r).replace(i._radial_gradient, function (n, t, i) { return v = "radial", t && i && (t = f(t), i = f(i), a(t - .5, 2) + a(i - .5, 2) > .25 && (i = c.sqrt(.25 - a(t - .5, 2)) * (2 * (i > .5) - 1) + .5), p = t + o + i), u }), r = r.split(/\s*\-\s*/), "linear" == v) && (h = r.shift(), h = -f(h), isNaN(h)) || (s = i._parseDots(r), !s)) return null; if (n = n.shape || n.node, s.length) { n.removeChild(e); e.on = !0; e.method = "none"; e.color = s[0].color; e.color2 = s[s.length - 1].color; for (var y = [], l = 0, w = s.length; w > l; l++) s[l].offset && y.push(s[l].offset + o + s[l].color); e.colors = y.length ? y.join() : "0% " + e.color; "radial" == v ? (e.type = "gradientTitle", e.focus = "100%", e.focussize = "0 0", e.focusposition = p, e.angle = 0) : (e.type = "gradient", e.angle = (270 - h) % 360); n.appendChild(e) } return 1 }, b = function (n, t) { this[0] = this.node = n; n.raphael = !0; this.id = i._oid++; n.raphaelid = this.id; this.X = 0; this.Y = 0; this.attrs = {}; this.paper = t; this.matrix = i.matrix(); this._ = { transform: [], sx: 1, sy: 1, dx: 0, dy: 0, deg: 0, dirty: 1, dirtyT: 1 }; !t.bottom && (t.bottom = this); this.prev = t.top; t.top && (t.top.next = this); t.top = this; this.next = null }, r = i.el; b.prototype = r; r.constructor = b; r.transform = function (r) { var l, e, a; if (null == r) return this._.transform; e = this.paper._viewBoxShift; a = e ? "s" + [e.scale, e.scale] + "-1-1t" + [e.dx, e.dy] : u; e && (l = r = t(r).replace(/\.{3}|\u2026/g, this._.transform || u)); i._extractTransform(this, a + r); var f, s = this.matrix.clone(), h = this.skew, c = this.node, v = ~t(this.attrs.fill).indexOf("-"), d = !t(this.attrs.fill).indexOf("url("); if (s.translate(1, 1), d || v || "image" == this.type) if (h.matrix = "1 0 0 1", h.offset = "0 0", f = s.split(), v && f.noRotation || !f.isSimple) { c.style.filter = s.toFilter(); var y = this.getBBox(), p = this.getBBox(1), b = y.x - p.x, k = y.y - p.y; c.coordorigin = b * -n + o + k * -n; w(this, 1, 1, b, k, 0) } else c.style.filter = u, w(this, f.scalex, f.scaley, f.dx, f.dy, f.rotate); else c.style.filter = u, h.matrix = t(s), h.offset = s.offset(); return l && (this._.transform = l), this }; r.rotate = function (n, i, r) { if (this.removed) return this; if (null != n) { if (n = t(n).split(a), n.length - 1 && (i = f(n[1]), r = f(n[2])), n = f(n[0]), null == r && (i = r), null == i || null == r) { var u = this.getBBox(1); i = u.x + u.width / 2; r = u.y + u.height / 2 } return this._.dirtyT = 1, this.transform(this._.transform.concat([["r", n, i, r]])), this } }; r.translate = function (n, i) { return this.removed ? this : (n = t(n).split(a), n.length - 1 && (i = f(n[1])), n = f(n[0]) || 0, i = +i || 0, this._.bbox && (this._.bbox.x += n, this._.bbox.y += i), this.transform(this._.transform.concat([["t", n, i]])), this) }; r.scale = function (n, i, r, u) { if (this.removed) return this; if (n = t(n).split(a), n.length - 1 && (i = f(n[1]), r = f(n[2]), u = f(n[3]), isNaN(r) && (r = null), isNaN(u) && (u = null)), n = f(n[0]), null == i && (i = n), null == u && (r = u), null == r || null == u) var e = this.getBBox(1); return r = null == r ? e.x + e.width / 2 : r, u = null == u ? e.y + e.height / 2 : u, this.transform(this._.transform.concat([["s", n, i, r, u]])), this._.dirtyT = 1, this }; r.hide = function () { return !this.removed && (this.node.style.display = "none"), this }; r.show = function () { return !this.removed && (this.node.style.display = u), this }; r._getBBox = function () { return this.removed ? {} : { x: this.X + (this.bbx || 0) - this.W / 2, y: this.Y - this.H, width: this.W, height: this.H } }; r.remove = function () { if (!this.removed && this.node.parentNode) { this.paper.__set__ && this.paper.__set__.exclude(this); i.eve.unbind("raphael.*.*." + this.id); i._tear(this, this.paper); this.node.parentNode.removeChild(this.node); this.shape && this.shape.parentNode.removeChild(this.shape); for (var n in this) this[n] = "function" == typeof this[n] ? i._removedFactory(n) : null; this.removed = !0 } }; r.attr = function (n, t) { var f, s, r, u, y, p; if (this.removed) return this; if (null == n) { f = {}; for (s in this.attrs) this.attrs[h](s) && (f[s] = this.attrs[s]); return f.gradient && "none" == f.fill && (f.fill = f.gradient) && delete f.gradient, f.transform = this._.transform, f } if (null == t && i.is(n, "string")) { if (n == l && "none" == this.attrs.fill && this.attrs.gradient) return this.attrs.gradient; for (var w = n.split(a), o = {}, e = 0, c = w.length; c > e; e++) n = w[e], o[n] = n in this.attrs ? this.attrs[n] : i.is(this.paper.customAttributes[n], "function") ? this.paper.customAttributes[n].def : i._availableAttrs[n]; return c - 1 ? o : o[w[0]] } if (this.attrs && null == t && i.is(n, "array")) { for (o = {}, e = 0, c = n.length; c > e; e++) o[n[e]] = this.attr(n[e]); return o } null != t && (r = {}, r[n] = t); null == t && i.is(n, "object") && (r = n); for (u in r) ut("raphael.attr." + u + "." + this.id, this, r[u]); if (r) { for (u in this.paper.customAttributes) if (this.paper.customAttributes[h](u) && r[h](u) && i.is(this.paper.customAttributes[u], "function")) { y = this.paper.customAttributes[u].apply(this, [].concat(r[u])); this.attrs[u] = r[u]; for (p in y) y[h](p) && (r[p] = y[p]) } r.text && "text" == this.type && (this.textpath.string = r.text); v(this, r) } return this }; r.toFront = function () { return !this.removed && this.node.parentNode.appendChild(this.node), this.paper && this.paper.top != this && i._tofront(this, this.paper), this }; r.toBack = function () { return this.removed ? this : (this.node.parentNode.firstChild != this.node && (this.node.parentNode.insertBefore(this.node, this.node.parentNode.firstChild), i._toback(this, this.paper)), this) }; r.insertAfter = function (n) { return this.removed ? this : (n.constructor == i.st.constructor && (n = n[n.length - 1]), n.node.nextSibling ? n.node.parentNode.insertBefore(this.node, n.node.nextSibling) : n.node.parentNode.appendChild(this.node), i._insertafter(this, n, this.paper), this) }; r.insertBefore = function (n) { return this.removed ? this : (n.constructor == i.st.constructor && (n = n[0]), n.node.parentNode.insertBefore(this.node, n.node), i._insertbefore(this, n, this.paper), this) }; r.blur = function (n) { var t = this.node.runtimeStyle, r = t.filter; return r = r.replace(ot, u), 0 != +n ? (this.attrs.blur = n, t.filter = r + o + ft + ".Blur(pixelradius=" + (+n || 1.5) + ")", t.margin = i.format("-{0}px 0 0 -{0}px", e(+n || 1.5))) : (t.filter = r, t.margin = 0, delete this.attrs.blur), this }; i._engine.path = function (t, i) { var f = s("shape"), r, h, e; return f.style.cssText = tt, f.coordsize = n + o + n, f.coordorigin = i.coordorigin, r = new b(f, i), h = { fill: "none", stroke: "#000" }, t && (h.path = t), r.type = "path", r.path = [], r.Path = u, v(r, h), i.canvas.appendChild(f), e = s("skew"), e.on = !0, f.appendChild(e), r.skew = e, r.transform(u), r }; i._engine.rect = function (n, t, r, u, f, e) { var h = i._rectPath(t, r, u, f, e), o = n.path(h), s = o.attrs; return o.X = s.x = t, o.Y = s.y = r, o.W = s.width = u, o.H = s.height = f, s.r = e, s.path = h, o.type = "rect", o }; i._engine.ellipse = function (n, t, i, r, u) { var f = n.path(); return f.attrs, f.X = t - r, f.Y = i - u, f.W = 2 * r, f.H = 2 * u, f.type = "ellipse", v(f, { cx: t, cy: i, rx: r, ry: u }), f }; i._engine.circle = function (n, t, i, r) { var u = n.path(); return u.attrs, u.X = t - r, u.Y = i - r, u.W = u.H = 2 * r, u.type = "circle", v(u, { cx: t, cy: i, r: r }), u }; i._engine.image = function (n, t, r, u, f, e) { var a = i._rectPath(r, u, f, e), o = n.path(a).attr({ stroke: "none" }), s = o.attrs, c = o.node, h = c.getElementsByTagName(l)[0]; return s.src = t, o.X = s.x = r, o.Y = s.y = u, o.W = s.width = f, o.H = s.height = e, s.path = a, o.type = "image", h.parentNode == c && c.removeChild(h), h.rotate = !0, h.src = t, h.type = "tile", o._.fillpos = [r, u], o._.fillsize = [f, e], c.appendChild(h), w(o, 1, 1, 0, 0, 0), o }; i._engine.text = function (r, f, h, c) { var a = s("shape"), y = s("path"), p = s("textpath"), l, k, w; return f = f || 0, h = h || 0, c = c || "", y.v = i.format("m{0},{1}l{2},{1}", e(f * n), e(h * n), e(f * n) + 1), y.textpathok = !0, p.string = t(c), p.on = !0, a.style.cssText = tt, a.coordsize = n + o + n, a.coordorigin = "0 0", l = new b(a, r), k = { fill: "#000", stroke: "none", font: i._availableAttrs.font, text: c }, l.shape = a, l.path = y, l.textpath = p, l.type = "text", l.attrs.text = t(c), l.attrs.x = f, l.attrs.y = h, l.attrs.w = 1, l.attrs.h = 1, v(l, k), a.appendChild(p), a.appendChild(y), r.canvas.appendChild(a), w = s("skew"), w.on = !0, a.appendChild(w), l.skew = w, l.transform(u), l }; i._engine.setSize = function (n, t) { var r = this.canvas.style; return this.width = n, this.height = t, n == +n && (n += "px"), t == +t && (t += "px"), r.width = n, r.height = t, r.clip = "rect(0 " + n + " " + t + " 0)", this._viewBox && i._engine.setViewBox.apply(this, this._viewBox), this }; i._engine.setViewBox = function (n, t, r, u, f) { i.eve("raphael.setViewBox", this, this._viewBox, [n, t, r, u, f]); var e, o, s = this.width, h = this.height, c = 1 / k(r / s, u / h); return f && (e = h / u, o = s / r, s > r * e && (n -= (s - r * e) / 2 / e), h > u * o && (t -= (h - u * o) / 2 / o)), this._viewBox = [n, t, r, u, !!f], this._viewBoxShift = { dx: -n, dy: -t, scale: c }, this.forEach(function (n) { n.transform("...") }), this }; i._engine.initWin = function (n) { var t = n.document; t.createStyleSheet().addRule(".rvml", "behavior:url(#default#VML)"); try { t.namespaces.rvml || t.namespaces.add("rvml", "urn:schemas-microsoft-com:vml"); s = function (n) { return t.createElement("<rvml:" + n + ' class="rvml">') } } catch (i) { s = function (n) { return t.createElement("<" + n + ' xmlns="urn:schemas-microsoft.com:vml" class="rvml">') } } }; i._engine.initWin(i._g.win); i._engine.create = function () { var e = i._getContainer.apply(0, arguments), f = e.container, r = e.height, u = e.width, c = e.x, l = e.y; if (!f) throw new Error("VML container not found."); var t = new i._Paper, s = t.canvas = i._g.doc.createElement("div"), h = s.style; return c = c || 0, l = l || 0, u = u || 512, r = r || 342, t.width = u, t.height = r, u == +u && (u += "px"), r == +r && (r += "px"), t.coordsize = 1e3 * n + o + 1e3 * n, t.coordorigin = "0 0", t.span = i._g.doc.createElement("span"), t.span.style.cssText = "position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;", s.appendChild(t.span), h.cssText = i.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden", u, r), 1 == f ? (i._g.doc.body.appendChild(s), h.left = c + "px", h.top = l + "px", h.position = "absolute") : f.firstChild ? f.insertBefore(s, f.firstChild) : f.appendChild(s), t.renderfix = function () { }, t }; i.prototype.clear = function () { i.eve("raphael.clear", this); this.canvas.innerHTML = u; this.span = i._g.doc.createElement("span"); this.span.style.cssText = "position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;"; this.canvas.appendChild(this.span); this.bottom = this.top = null }; i.prototype.remove = function () { i.eve("raphael.remove", this); this.canvas.parentNode.removeChild(this.canvas); for (var n in this) this[n] = "function" == typeof this[n] ? i._removedFactory(n) : null; return !0 }; d = i.st; for (y in r) r[h](y) && !d[h](y) && (d[y] = function (n) { return function () { var t = arguments; return this.forEach(function (i) { i[n].apply(i, t) }) } }(y)) } }(), si.was ? r.win.Raphael = i : Raphael = i, i }) });
//# sourceMappingURL=raphael-min.min.js.map